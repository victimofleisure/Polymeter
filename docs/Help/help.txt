@chapter Getting Started

@topic Introduction

Polymeter is a specialized MIDI sequencer for composing music in @[polymeter], meaning music that uses multiple meters simultaneously. The application doesn't generate audio directly, instead it outputs a stream of MIDI messages to a @[output device\device] that converts MIDI to audio, such as a hardware or software synthesizer. By default, the application outputs to the GS Wavetable Synth that ships with Windows. The application also @[export\exports] a Standard MIDI file that can be imported into most music software.

A Polymeter document consists of an array of @[tracks], each of which produces a single MIDI note or control message at a time. Each track has its own @[track length\length] and loops independently through its own array of equal-sized @[steps]. For @[note tracks], the steps determine the starting times, durations, and velocities of notes, but steps are interpreted differently for other @[track types]. Tracks of differing lengths can be juxtaposed, and then edited while they're looping. Tracks can also @[modulations\modulate] other tracks, and can be arranged into @[songs].

The application features multiple @[views], corresponding to different stages of the composing process, and various @[docking windows]. Most application parameters can be remotely controlled by @[mappings\mapping] them to MIDI messages.

@topic License

This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111 USA.

@topic Requirements

Recommended:

Windows 7 or higher, 64-bit
4GB memory or more
Quad-core CPU
Decent graphics card

@topic Installing

Polymeter comes in two flavors (Installer and Portable), each of which is available in both 64-bit and 32-bit versions. If you have a 64-bit CPU, it's strongly recommended to use the 64-bit version of Polymeter. Most users want an installer, because it's easier. For example, installing adds Polymeter to the Windows start menu, and allows Polymeter to register its file types, so that they have appropriate icons and can be opened via double-clicking in Explorer.

<p><b>Installing for the first time:</b>

Make sure you're logged on as Administrator. The Installer flavor of Polymeter is distributed as a zip file. Unzip the distribution file, using <a href="https://www.7-zip.org/">7-Zip</a> or an equivalent program, and then double-click on Polymeter.msi to launch the installer. The installer is about as simple as an installer can be: for the default setup, just keep hitting "Next." Note that on the "Select Installation Folder" page, you have the option to install for all users, but the default is to only install for the current user.

<p><b>Upgrading a previous installation:</b>

<ol>
<li>Make sure you're logged on as Administrator.
<li>Unzip the distribution file to a folder, if you haven't already.
<li>In that folder, double-click Upgrade.bat to launch the installer.
<li>In the installer, select the "Repair" option.
</ol>

Note that double-clicking Polymeter.msi won't work for upgrades: you will get the message "Another version of this product is already installed".

To use the portable app, simply unzip the distribution file to a folder and double-click Polymeter.exe to run the application.

@topic Uninstalling

To uninstall Polymeter, use Add/Remove Programs in the Control Panel, or double-click on Polymeter.msi and select the "Remove" option.

To remove the portable version, delete the folder you unzipped the application files into, and also delete the following registry key:
HKEY_CURRENT_USER\Software\Anal Software\Polymeter

@topic Getting help

Polymeter has context-sensitive help, which means that pressing @{key}F1@} shows different topics depending on the situation. Context-sensitive help is available for the following types of user-interface objects:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Object type</th><th>To get help:</th></tr>
<tr><td>Menus and context menus</td><td>Hover the cursor over a menu item and press @{key}F1@}.</td></tr>
<tr><td>Toolbar buttons</td><td>Hover the cursor over a button and press @{key}F1@}.</td></tr>
<tr><td>Property bars</td><td>Left-click a property name and press @{key}F1@}.</td></tr>
<tr><td>Other toolbars</td><td>Left-click a control and press @{key}F1@}.</td></tr>
<tr><td>Modal dialogs</td><td>Press @{key}F1@} while the dialog is displayed. For some dialogs, the topic shown depends on which control has focus.</td></tr>
</table>

If none of the above cases apply, or if help is accessed via @[Help Topics], a default topic is shown.

@endchapter

@chapter Concepts

@topic Polymeter

Polymeter is the use of multiple meters simultaneously within a single piece of music. In this application, polymeter means combining @[tracks\loops] of different lengths, so that they slip relative to each other, the way oscillators with different frequencies shift phase relative to each other. Polymeter is more interesting when the loop lengths being combined are @[primes\relatively prime], meaning they share no common factors except one. Such loop combinations gradually drift apart (diverge) and then drift back together (converge) in a predictable way, producing intricate patterns of interference as they do so. Various tools are provided to work with @[convergences].

@item Complex polymeter

Complex polymeter is the simultaneous use of three or more relatively prime meters. For example, a composition that uses the meters 4/4, 5/4, and 7/4 all at the same time is in complex polymeter.

@item Polymeter versus polyrhythm, odd time, and phasing

<ul>
<li>Polyrhythm means combining different rhythms. There's no requirement that the rhythms be different lengths or exhibit phase shift. Polyrhythm is a very general category, of which polymeter is a subset.
<li>Odd time means using an odd meter (5/4, 7/4, 11/4 etc.), or alternating between several odd meters, one after the other. It's the use of multiple odd meters <em>simultaneously</em> that distinguishes polymeter from odd time. 
<li>Phasing is a more general category than polymeter. Any system that combines oscillations of different frequencies exhibits phasing. Loops of different lengths "slip" in and out of phase relative to each other, i.e. they phase. Polymeter is a specialized subset of phasing. Polymeter adds a constraint that the different loop lengths must share a common unit (e.g. a sixteenth note). In other words, polymeter is <em>quantized phasing</em>. In phasing, the slippage is continuous, whereas in polymeter, the slippage is discrete: it occurs in @[steps]. Phasing is good for ambient music; polymeter is good for rhythmic music.
</ul>

@topic Tracks

A track consists of an array of @[steps] and some @[track properties\properties] that affect the track's behavior. A @[polymeter] composition is a collection of tracks, each of which @[period\cycles] through its steps independently. The tracks are organized similarly to a table; each track corresponds to a row in the @[track view]. There are various @[track types], and the type determines what the track outputs, and how it interprets its steps. A track can output only one MIDI note or control message at a time. To make chords, create multiple tracks, one for each of the chord's tones.

<ul>
<li>@[Note tracks] output a MIDI note, and have special capabilities.
<li>@[Controller tracks] output a MIDI controller, pitch bend, aftertouch, or program change.
<li>@[Tempo tracks] output a tempo change.
<li>@[Modulator tracks] output nothing, and are used to alter the behavior of other tracks.
</ul>

A track can be edited via the track view, which is vertically split into two @[panes]. The @[track grid\left pane] lets you edit the track's properties, while the @[track steps\right pane] lets you mute or unmute tracks and edit the track's steps.

The list of tracks can be edited via the @[standard editing commands]. Tracks can be @[track selection\selected], and many commands operate on selected tracks. Selected tracks can also be reordered by dragging, or @[sort\sorted]. Tracks can be @[track name\named], and giving them unique, meaningful names is highly recommended.

The simplest way to create polymeter is by juxtaposing tracks of different lengths, assuming the lengths are @[primes\relatively prime]. More complex methods include using tracks to alter the behavior of other tracks, in a process called @[modulations\modulation].

@item Track properties

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>@[Track Name\Name]</td><td>The track's name</td></tr>
<tr><td>@[Track Type\Type]</td><td>The track's @[track types\type]</td></tr>
<tr><td>@[Track Channel\Channel]</td><td>Which MIDI channel the track outputs on</td></tr>
<tr><td>@[Track Note\Note]</td><td>Which MIDI note or controller the track outputs</td></tr>
<tr><td>@[Track Length\Length]</td><td>Length of the track, in steps</td></tr>
<tr><td>@[Track Quant\Quant]</td><td>Duration of each of the track's steps, in @[ticks]</td></tr>
<tr><td>@[Track Offset\Offset]</td><td>Time offset applied to the track's steps, in ticks; positive = later, negative = earlier</td></tr>
<tr><td>@[Track Swing\Swing]</td><td>Time offset applied to the track's even-numbered steps, in ticks; positive = later, negative = earlier</td></tr>
<tr><td>@[Track Velocity\Velocity]</td><td>Offset added to the track's step velocities</td></tr>
<tr><td>@[Track Duration\Duration]</td><td>Offset added to the track's note durations</td></tr>
<tr><td>@[Track Range Type\Range Type]</td><td>Selects a method for limiting the range of the track's notes</td></tr>
<tr><td>@[Track Range Start\Range Start]</td><td>Lowest note of the track's range</td></tr>
<tr><td>@[Track Mutes\Mute]</td><td>True if the track is muted</td></tr></table>

@item Track types

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Type</th><th>Outputs</th><th>Step</th></tr>
<tr><td>@[note tracks\Note]</td><td>Note message</td><td>@[unsigned versus signed steps\Unsigned] note velocity; steps can also be @[tied notes\tied] together to form longer notes</td></tr>
<tr><td>@[controller tracks\Key Aftertouch]</td><td>Key aftertouch message</td><td>Unsigned key aftertouch pressure</td></tr>
<tr><td>@[controller tracks\Control]</td><td>Continuous controller message</td><td>Controller value; signed or unsigned depending on context</td></tr>
<tr><td>@[controller tracks\Patch]</td><td>Program change message</td><td>Unsigned program number</td></tr>
<tr><td>@[controller tracks\Channel Aftertouch]</td><td>Channel aftertouch message</td><td>Unsigned channel aftertouch pressure</td></tr>
<tr><td>@[controller tracks\Wheel]</td><td>Pitch bend message</td><td>Signed pitch bend value (most significant byte only)</td></tr>
<tr><td>@[tempo tracks\Tempo]</td><td>Tempo change message</td><td>Signed fractional tempo change</td></tr>
<tr><td>@[modulator tracks\Modulator]</td><td>Nothing</td><td>Depends on the @[modulations\modulation] type</td></tr>
</table>

@topic Steps

At the most abstract level, a step is simply a number. Each @[tracks\track] contains an array of one or more steps. A step array is a sequence of integer values, evenly spaced in time. The count of steps in the array is the track's @[track length\Length], and the duration of each step is the track's @[track quant\Quant]. A track's steps are played sequentially in a loop.

A track's step array resembles a time signature or @[meter], with Length as the numerator and Quant as the denominator, except that the Quant is specified in @[ticks]. For example, assuming the default @[timebase] of 120 ticks per quarter note, a five-step track with a Quant of 120 is equivalent to five quarter notes, or 5/4 time.

Specifically, a step is a 7-bit integer that can be @[Unsigned versus signed steps\unsigned or signed] depending on the context. Steps can be interpreted as note velocities, controller values, or modulator values. A step's interpretation depends on what @[track types\type] of track the step belongs to, except for @[modulator tracks], in which case the interpretation depends on the @[modulation types\modulation type].

Steps can be edited in the following ways:

<ul>
<li>The @[track steps] pane lets you set and clear steps. For @[note tracks], you can also @[tied notes\tie] adjacent steps together to form longer notes.
<li>The @[velocities pane] displays the step values of the @[track selection\selected tracks] as vertical bars. The step values can be changed by dragging the bars. Various drawing functions can be accessed by pressing modifier keys while dragging.
<li>The @[Step Values bar] displays the step values of the selected tracks on a @[grid controls\grid] so that they can be edited numerically.
<li>The @[Fill] command lets you fill selected tracks or steps with a series of values. The series can be linear, or a periodic function.
<li>Steps can be copied, cut, pasted, inserted, and deleted using the @[standard editing commands].
<li>Steps can be transformed using Track menu commands such as @[Shift], @[Rotate], @[Reverse], @[Invert], @[Velocity], and @[Stretch].
</ul>

Step values can also be @[import steps\imported] from a text file containing comma-separated values (CSV format), which is useful if you want to generate step arrays with an external application.

Because a track's steps are evenly spaced in time, undesirably stiff rhythms may result. Rhythmic stiffness can be mitigated by adjusting the track's @[track swing\swing], or by applying @[offset modulation] to the track.

@item Unsigned versus signed steps

Steps are stored in seven binary bits, and therefore have 2<sup>7</sup> or 128 possible values. The values range either from 0 to 127, or from &minus;64 to +63, depending on whether the step is interpreted as an unsigned or signed number. This convention derives from the MIDI standard, which commonly uses 7-bit data for message parameters and data. For example the data of a MIDI control change message is considered unsigned for volume controls, but signed for pan controls. To convert a value from unsigned to signed, subtract 64 from it; to do the reverse, add 64. The following table shows some correspondences between unsigned and signed values.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Unsigned</th><th>Signed</th></tr>
<tr><td>127</td><td>+63</td></tr>
<tr><td>96</td><td>+32</td></tr>
<tr><td>64</td><td>0</td></tr>
<tr><td>32</td><td>&minus;32</td></tr>
<tr><td>0</td><td>&minus;64</td></tr>
</table>

Whether a step is interpreted as unsigned or signed depends on the context in which the step is used. The context is determined by the @[track types\track type], except for @[modulator tracks], in which case it's determined by the @[modulation types\modulation type].

@item Ticks

A tick is the smallest unit of relative time that can be used within a given MIDI composition. Ticks are related to beats (quarter notes) by the @[timebase], which specifies the number of ticks per beat. Various properties of a @[tracks\track], including the duration of its @[steps] (also known as its @[track quant\Quant]) are specified in ticks. The length of a tick in absolute time depends on the @[tempo], as shown below:

tick_length = 60 / tempo / timebase

At the default tempo (120 BPM) and timebase (120 TPQN), a tick is approximately four milliseconds long.

@topic Modulations

Besides juxtaposition, another important method of combining @[tracks] is <em>modulation</em>, in which a track alters the behavior of another track. The track that does the modulating is called the modulator or <em>source</em>, whereas the track that's being modulated is called the target or <em>sink</em>. There are many types of modulation, and they vary in terms of the targets they support, and how they interpret step values, as shown below.

@item Modulation types

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Type</th><th>Targets</th><th>Effect</th><th>Step</th></tr>
<tr><td>@[mute modulation\Mute]</td><td>All</td><td>Mutes or unmutes target</td><td>Boolean; non-zero value mutes target</td></tr>
<tr><td>@[note modulation\Note]</td><td>Note tracks, scale modulators, chord modulators</td><td>Offsets note or tone</td><td>Signed offset in semitones or scale tones</td></tr>
<tr><td>@[velocity modulation\Velocity]</td><td>All @[track types] except Tempo and Modulator</td><td>Offsets note velocity or controller value</td><td>Signed MIDI data offset</td></tr>
<tr><td>@[duration modulation\Duration]</td><td>Note tracks only</td><td>Offsets note duration</td><td>Signed offset in ticks</td></tr>
<tr><td>@[range modulation\Range]</td><td>Note tracks only</td><td>Offsets range start</td><td>Signed offset in semitones</td></tr>
<tr><td>@[position modulation\Position]</td><td>All</td><td>Rotates step array</td><td>Signed rotation in steps</td></tr>
<tr><td>@[tempo modulation\Tempo]</td><td>@[Tempo tracks] only</td><td>Scales tempo</td><td>Signed fractional tempo change</td></tr>
<tr><td>@[scale modulation\Scale]</td><td>Note tracks only</td><td>Adds note to current scale</td><td>Signed note offset in semitones</td></tr>
<tr><td>@[chord modulation\Chord]</td><td>Note tracks only</td><td>Adds scale tone to current chord</td><td>Signed zero-based scale tone index</td></tr>
<tr><td>@[index modulation\Index]</td><td>Note tracks only</td><td>Picks a scale or chord tone</td><td>Signed zero-based scale or chord tone index</td></tr>
<tr><td>@[voicing modulation\Voicing]</td><td>Note tracks only</td><td>Drops or raises a scale or chord tone</td><td>Signed one-based voice index</td></tr>
<tr><td>@[offset modulation\Offset]</td><td>Note tracks only</td><td>Offsets playback timing</td><td>Unsigned offset in ticks</td></tr>
</table>

@item Modulation relationships

The relationship between source and target tracks can be any of the following:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Relationship</th><th>Meaning</th></tr>
<tr><td>One to one</td><td>A single source modulating a single target</td></tr>
<tr><td>One to many</td><td>A single source modulating multiple targets</td></tr>
<tr><td>Many to one</td><td>Multiple sources modulating a single target</td></tr>
<tr><td>Many to many</td><td>Multiple sources modulating multiple targets</td></tr>
</table>

In the above relationships, the modulations don't necessarily have to be all of the same type. For example a note track could have its mute state modulated by one source track, and its note modulated by a different source track.

Recursive relationships are also possible, in other words a modulator can modulate a modulator. There are some limits on this, which are explained below. The only thing that's definitely not allowed is a track modulating itself, either directly, or indirectly via a loop, as this would lead to infinite recursion. The user interface tries to prevent self-modulation, but if it occurs you'll get the error message "Modulation exceeded the maximum number of recursions."

The maximum recursion depth is 32 levels, however only @[mute modulation] and @[position modulation] fully support recursion. A first level modulator&mdash;one that directly targets a @[note tracks\note track] or @[controller tracks\controller track]&mdash;can have any @[modulation types\modulation type], but deeper levels can only be mute or position modulators. For example, a note modulator can't be the target of another note modulator, but it can be the target of a mute or position modulator.

There's one important exception to the above recursion rules: a @[scale modulation\scale modulator] or @[chord modulation\chord modulator] can be targeted by one or more note modulators.

@topic Dubs

A dub is an @[audio versus events\event] that consists of one or more @[tracks] being @[track mutes\muted] or unmuted at a particular time. Dubs are useful for arranging tracks into a @[songs\song], which is essentially a sequence of dubs. You can create dubs by drawing them in @[song view], but it's often easier to create them by @[record\recording] an arrangement that you perform in @[live view].

Dubs don't support fading. To fade a track in or out, either  create a @[velocity modulation] that targets the track, or create a @[controller tracks\controller track] that changes the instrument's volume (typically controller number seven). These fader tracks can also be dubbed in and out, like any other track. Another option is to use a MIDI control surface to change instrument volumes live, and capture the control changes by @[recording MIDI input]. If you're @[export\exporting] your sequence to another music software, you may prefer to create fades within that software, as it may have better automation support.

@topic Songs

A song is a particular arrangement of your @[tracks], created by muting and unmuting them over time. In other words, a song is a sequence of @[dubs], each of which mutes or unmutes one or more tracks at a particular time. The song can be visualized and edited in @[song view]. It's possible to create a song entirely by editing in song view, but it's often more intuitive to @[record] a rough arrangement in @[live view] and then use song view to refine the transitions.

Creating a song is optional. The main advantage of creating a song is that you can "paint" with your @[polymeter] loops on a timeline, in a completely non-destructive way. Editing the song never modifies the underlying tracks, and the tracks always maintain correct phase, no matter how much they're dubbed.

During @[play\playback], if the song view is active, the @[track mutes] are automated, meaning tracks are automatically muted or unmuted as required by the song arrangement. You can start playback at any @[song position\position], or skip around within the song while it's playing, and the track mutes "chase" to the appropriate state. Note however that a track must have at least one dub in order to be automated.

If the song exists, meaning at least one track has dubs, the MIDI file @[export] applies the dubs to the tracks, so that the resulting file follows the arrangement.

A song may also include @[recording MIDI input\recorded MIDI input] such as note or control change messages.

@topic Parts

A part is a group of @[tracks] that correspond to a single item in the @[live view]'s track list. Polymeter compositions tend to involve many tracks, because each track outputs only one note or control event at a time. The proliferation of tracks can become overwhelming and cumbersome to perform with, particularly if the track list gets long enough to require frequent scrolling. Grouping tracks into parts reduces visual clutter, and may shorten the live view's track list enough to avoid scrolling during a performance. 

A part's member tracks all share the same @[track mutes\mute] state in live view, meaning if one member is muted, they're all muted. Put another way, by grouping tracks into a part, you lose the ability to mute some of them but not others in live view. For example, if you're using several tracks to form a chord, and the entire chord should always be muted or unmuted as a single entity, you may want to group the tracks into a part. For another example, if you have modulator tracks that can remain unmuted all the time, they can all be grouped into a single part.

Parts are edited using the @[Parts bar]. To create a new part, first @[track selection\select] its member tracks, and then use the Track menu's @[Create Group\Group] command. A new part initially has the same name as its first member track, but you can rename it.

A track can belong to at most one part. When you create a new part, if any of the selected tracks already belong to a part, a warning message is displayed, giving you the option to continue or cancel. If you continue, the offending tracks are removed from their previous part before being reassigned to the new one.

To update an existing part, in other words to add or remove members, do as follows:

<ol>
<li>Select the part's member tracks, by right-clicking the part's list item and then using the Tracks command on the Parts bar's @[parts context menu\context menu].
<li>In the @[track view], select or deselect tracks as desired.
<li>Right-click the part's list item and use the Update command on the Parts bar's context menu. If any of the selected parts belong to a different part than the one you're updating, a warning message is displayed, as explained above.
</ol>

To avoid confusion, it's recommended to keep all the member tracks of a part contiguous in track view. You may want to use @[color] to distinguish your parts from each other.

@topic Presets

A preset is a snapshot of the @[track mutes\mute] states of all the @[tracks]. Applying a preset mutes or unmutes tracks as needed, so that after it's applied, the same tracks are muted as when the preset was created. Presets are especially useful for creating section changes, because applying a single preset is easier than muting or unmuting many tracks at once.

Presets are edited using the @[Presets bar]. To create a new preset, use the Track menu's @[Create Preset\Preset] command. A new preset initially has an automatically generated name, but you can rename it.

To update an existing preset, in other words to change its snapshot, do as follows:

<ol>
<li>Apply the preset, either by double-clicking the preset's item within the preset list, or by right-clicking the preset's list item and then using the Apply command on the Preset bar's @[presets context menu\context menu].
<li>In the @[track view], mute or unmute tracks as desired.
<li>Right-click the preset's list item and use the Update command on the Preset bar's context menu.
</ol>

@topic Mappings

Mapping is the process of assigning input MIDI messages to properties, so that those properties can be remotely controlled, typically via a MIDI control surface. Each mapping consists of a description of the input message, and a description of the target property. The mapping feature also supports translation. An input MIDI message can be translated to any other MIDI message, and/or mapped to any @[track properties\track property] except track name. Other possible mapping targets include @[parts], @[presets], and transport commands. Mappings are edited via the @[Mapping bar\Mapping] docking window.

An input message can have multiple mappings, i.e. it can be translated to multiple messages, or mapped to multiple properties, or to the same property in multiple tracks, or any combination of these. The reverse is also true: different input messages can be translated to the same output message, or mapped to the same track property.

Translation facilitates tweaking synthesizer settings with a control surface. It's likely that different songs will use different synthesizers and different control schemes. By setting up appropriate translations in Polymeter, the user can avoid reprogramming the control surface for each song. The control surface can always output the same messages; only the mappings need to change, and the mapping details are conveniently stored in the song's Polymeter document. More importantly, since Polymeter can @[recording MIDI input\record the MIDI input] as well as the dubs, a performance can be recorded as @[audio versus events\events] and then completely reconstructed afterwards.

Mapping is particularly interesting for track properties that affect the rhythmic feel, such as @[Track Offset\Offset] and @[Track Swing\Swing]. The @[Track Range Start\Range Start] property is another fruitful target.

For some target properties, the mapping's output range may need to be adjusted for optimal results. For example, suppose a knob that outputs 0 to 127 as usual is mapped to a target property that has only three states. The knob's first three values step through the states, while its remaining range of motion does nothing, making the knob awkward to use. This is solved by giving the mapping an output range of 0 to 2, and thereby spreading out the target's states over the knob's entire range of motion.

@topic Convergences

In @[polymeter], loops of different lengths gradually drift apart (diverge) and back together (converge). Alternatively we can say that the loops drift out of phase, and back into phase. Two loops are exactly in phase when they reach their respective starting points at exactly the same time, and this moment is called a <em>convergence</em>.

When the number of loop lengths being considered is three or more, we can distinguish between full and partial convergence. Full convergence is when <em>all</em> of the loops are in phase, whereas partial convergence is when only a subset of them are in phase. No matter how many different lengths are used, they will all fully converge at some point, after which the overall pattern repeats.

For @[primes\relatively prime] lengths, determining when full convergence will occur is straightforward: it's the product of the lengths. So for 3, 5, and 7, it's 3 &times; 5 &times; 7 = 105. Each pair of relatively prime lengths also converges separately. In this case, partial convergences occur at multiples of 15 (3 &times; 5), 21 (3 &times; 7), and 35 (5 &times; 7). For details, see the @[convergence example\example] below. As more relatively prime lengths are combined, the number of partial convergences increases, and the time required for the overall pattern to repeat (full convergence) also increases.

The application provides various tools for working with convergences:

<ul>
<li>The @[Time to Repeat] command calculates how long it will take for the @[track selection\selected tracks] to repeat, in beats and time.
<li>The @[Prime Factors] command calculates the prime factors of the lengths of the selected tracks.
<li>The @[Convergences Calculator] computes all of the convergences between the lengths of the selected tracks, or if no tracks are selected, between a list of comma-separated values.
<li>The @[Next Convergence] and @[Previous Convergence] commands move the current position to the next or previous convergence between the lengths of the selected tracks, or all tracks if none are selected. The minimum convergence size is selectable via the @[Convergence Size] submenu of the Transport menu.
</ul>

It's more interesting if something happens at these convergences. In 4/4 music, significant changes often occur at powers of two, e.g. 16, 32, 64, etc. In polymeter, significant changes should naturally occur at the convergences between the different lengths.

@item Convergence example

This table shows the partial convergences of 3, 5, and 7 up to their first full convergence at 105. Subsequent full convergences would occur at 210, 315, 420, and so on. The table could be extended infinitely far into the future or past, and would continue to repeat this same pattern of convergences.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Convergence</th><th>Factors</th></tr>
<tr><td>15</td><td>3,5</td></tr>
<tr><td>21</td><td>3,7</td></tr>
<tr><td>30</td><td>3,5</td></tr>
<tr><td>35</td><td>5,7</td></tr>
<tr><td>42</td><td>3,7</td></tr>
<tr><td>45</td><td>3,5</td></tr>
<tr><td>60</td><td>3,5</td></tr>
<tr><td>63</td><td>3,7</td></tr>
<tr><td>70</td><td>5,7</td></tr>
<tr><td>75</td><td>3,5</td></tr>
<tr><td>84</td><td>3,7</td></tr>
<tr><td>90</td><td>3,5</td></tr>
<tr><td>105</td><td>3,5,7</td></tr>
</table>

@topic List controls

The application makes frequent use of lists, some of which are editable @[grid controls]. Within a list, rows can be selected either via the mouse, or via the keyboard.

@item Selecting rows via mouse

<ul>
<li>To select a single row, left-click it.
<li>To select a range of adjacent rows, left-click the range's first row, press and hold down the @{key}Shift@} key, left-click the range's last row, and then release the @{key}Shift@} key. If the range is large, you may need to scroll the list in between selecting its first and last rows.
<li>To add or remove a row to or from an existing selection, left-click the row while pressing the @{key}Ctrl@} key.
<li>To deselect all rows, left-click below the last row, or to the right of the last column.
</ul>

@item Selecting rows via keyboard

You can also select list rows via the keyboard, using the up/down arrow keys, possibly in combination with other keys.

<ul>
<li>To select a single row, repeatedly press (or press and hold) the up or down arrow key until the desired row is selected. Doing so navigates through the list by moving the single selection from row to row, scrolling the list if necessary. You can also use the @{key}Page Up@}, @{key}Page Down@}, @{key}Home@}, and @{key}End@} keys to navigate through the list more rapidly.
<li>To select a range of adjacent rows, do the same as for a single row, but while pressing the @{key}Shift@} key.
<li>To add or remove a row to or from an existing selection, first navigate to the desired row as described above, but while pressing the @{key}Ctrl@} key. This moves the list selection mark (usually a dotted rectangular outline) without disrupting the existing selection. When the selection mark is on the desired item, press @{key}Ctrl+Alt+Space@} to toggle the item's selection state. The @{key}Alt@} key is necessary because @{key}Ctrl+Space@} is reserved for the @[Play] command.
</ul>

@item List columns

You can change the width of list columns by using the mouse. To change the width of a column, drag the boundary on the right side of the column heading until the column is the width that you want. To auto-size a column so that it's the same width as its widest visible item, double-click the boundary on the right side of the column heading.

A list may allow its columns to be reordered. To move a column, left-click the column heading and drag it to where you want it. Not all lists support this feature.

A list may support restoring its columns to their original state. To reset the columns to their default width and order, right-click in the column header and select @{cmd}Reset@} in the context menu. Not all lists support this feature.

@topic Grid controls

A grid control is a type of @[list controls\list control] that allows its items to be edited. The @[Track view] uses a grid control, as do the @[Channels bar\Channels], @[Mapping bar\Mapping], @[Modulations bar\Modulations], and @[Step Values bar\Step Values] bars. To edit an item, left-click it. This causes either a pop-up edit box or a drop list to appear, depending on the data type. If a grid row is selected, you can also edit its first item by pressing @{key}Tab@}. While the pop-up control is displayed, you may edit the value or type a new one. To end your edit, left-click outside of the pop-up control, or press one of the following keys:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>@{key}Enter@}</td><td>Saves the edit.</td></tr>
<tr><td>@{key}Escape@}</td><td>Discards the edit.</td></tr>
<tr><td>@{key}Tab@}</td><td>Saves the edit and moves to the next column.</td></tr>
<tr><td>@{key}Shift+Tab@}</td><td>Saves the edit and moves to the previous column.</td></tr>
<tr><td>@{key}Ctrl+Down@}</td><td>Saves the edit and moves to the next row.</td></tr>
<tr><td>@{key}Ctrl+Up@}</td><td>Saves the edit and moves to the previous row.</td></tr>
</table>

Selection works the same way as in a list control, with one exception: to @[Selecting rows via mouse\select rows via mouse], you must left-click within the <em>primary column</em>, otherwise you'll edit an item instead of selecting. The primary column is usually the leftmost column, unless you've reordered the columns. For example in the Track view, the primary column contains the track numbers, and has a number sign (#) in the column header.

To change an item in multiple rows at once, first select the desired rows, and then edit the item within any one of the selected rows.

@endchapter

@chapter Tracks

@topic Note tracks

Note tracks output MIDI notes, and have special capabilities compared to other @[track types]. One difference is that note tracks allow adjacent steps to be @[tied notes\tied] together in order to form notes longer than one step. Another difference is that many @[modulation types] can only target note tracks. By default, a note track outputs a constant note, selected by its @[track note\note] property. The simplest way to make a melody is to create multiple note tracks and assign them different notes. However it's also possible to make a melody with only a single note track, by using another track to alter the note, in a process called @[note modulation]. Another more advanced method is to modulate the note track with a combination of @[scale modulation] and @[index modulation], and possibly also @[chord modulation]. A note track can only output one note at a time. To make chords, create multiple note tracks, each playing a different note.

The placement of notes, their durations, and their velocities are all determined by a note track's steps. If a note is tied, meaning it occupies multiple adjacent steps, the first of its steps determines its velocity. Note placement and duration are edited using the @[track steps] pane. To edit note velocities, use the @[velocities pane] or the @[step values bar]; for other methods, see @[steps]. To offset all of a track's note velocities by a constant, enter a non-zero value for the @[track velocity] property. Note tracks can be limited to a specified range of notes via the @[track range type\range] properties.

@item Tied notes

Notes longer than one @[steps\step] are created by joining two or more adjacent steps. Steps joined in this way are said to be <em>tied</em>. Each step has an attribute called a <em>tie bit</em>, and if a step's tie bit is set, that step joins itself with the next step. If the next step is occupied, it extends the duration of the existing note by a step, instead of triggering a new note. If the next step isn't occupied, the tie bit has no effect.

<ul>
<li>To toggle a step's tie bit from tied to untied or vice versa, press the @{key}Shift@} key, and while holding it down, left-click the step in question.
<li>To toggle the tie bits of multiple steps at once, first @[step selection\select] the steps by right-clicking and dragging; then press the @{key}Shift@} key, and while holding it down, left-click anywhere within the steps.
</ul>

@[Note tracks] display tied and untied steps differently: a tied step fills the entire rectangle allocated for it, whereas an untied step only fills the left half of its rectangle. The following example shows four adjacent steps, all of which are occupied (not empty) and untied. Assuming the track's @[track quant\quant] is a sixteenth note, these steps output four consecutive sixteenth notes.

<p><table border=1 cellpadding=0 cellspacing=0 style="border-color: lightgray">
<tr><td>&#9612;</td><td>&#9612;</td><td>&#9612;</td><td>&#9612;</td></tr>
</table>

In this example, the same four steps are shown, except that the first three have their tie bit set. This joins the four steps together so that they output a single quarter note.

<p><table border=1 cellpadding=0 cellspacing=0 style="border-color: lightgray">
<tr><td>&#9608;</td><td>&#9608;</td><td>&#9608;</td><td>&#9612;</td></tr>
</table>

A note may be extended past the end of the track, in which case the track's last step must be tied. Assuming the track is four steps long, this example shows a quarter note triggered by the third step.

<p><table border=1 cellpadding=0 cellspacing=0 style="border-color: lightgray">
<tr><td>&#9608;</td><td>&#9612;</td><td>&#9608;</td><td>&#9608;</td></tr>
</table>

At least one of a note track's steps must be either empty or untied, otherwise the track will be silent. Tying only applies to note tracks; for all other @[track types], the tie bit is irrelevant and isn't shown. You can specify whether steps are initially tied or untied, using the @[Tie Notes] command.

@item Triggering samples

@[Tied notes] are more likely to be useful with melodic or chordal parts, because the instruments associated with such parts are typically sensitive to note duration. Tied notes may be irrelevant when triggering drums, because drum sounds commonly play their entire sample, regardless of the triggering note's duration. Many hardware and software drum machines ignore note duration, including the drum channel (channel ten) of a General MIDI synth, such as the GS Wavetable Synth that ships with Windows. If you're writing drum parts for a device that ignores note duration, you may find it convenient to use only untied steps, so that setting consecutive steps always retriggers the sample.

@topic Controller tracks

Controller tracks are a group of @[track types] that output a control value instead of a note. The group includes the following track types:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Type</th><th>MIDI message</th><th>P1</th><th>P2</th></tr>
<tr><td>Key Aftertouch</td><td>Polyphonic Key Pressure</td><td>track note</td><td>step value</td></tr>
<tr><td>Control</td><td>Control Change</td><td>track note</td><td>step value</td></tr>
<tr><td>Patch</td><td>Program Change</td><td>step value</td><td>N/A</td></tr>
<tr><td>Channel Aftertouch</td><td>Channel Pressure</td><td>step value</td><td>N/A</td></tr>
<tr><td>Wheel</td><td>Pitch Bend Change</td><td>step value</td><td>N/A</td></tr>
</table>

A controller track's @[steps] are interpreted as data values for the corresponding MIDI message. Each step causes a MIDI message to be sent to the @[output device], except when a step has the same value as the preceding step, in which case no message is sent for the later step, thereby avoiding what would otherwise be a duplicate message. The steps are interpreted as @[unsigned versus signed steps\unsigned or signed] data depending on the context. To achieve smooth control changes, it may be necessary to use a relatively small @[track quant\Quant], but don't make it smaller than necessary, otherwise you risk exceeding the bandwidth limitations of the output device.

The @[track velocity] property has a different meaning for controller tracks than it does for @[note tracks]: instead of offsetting the note velocities, it offsets the control values. In other words, the track's velocity offset (if any) is added to the track's step values to compute the output data values.

@topic Tempo tracks

A tempo track <em>scales</em> the base @[tempo] by a variable amount. The amount of scaling can vary over time, and its effect on the tempo is multiplicative, not additive. To create a tempo @[tracks\track], change a track's @[track type\Type] to Tempo, and also set the track's @[track duration\Duration] to a non-zero value, e.g. 100. Then set the track's steps to whatever shape you want the tempo change to have. For tempo tracks, Duration is reused as the tempo range, expressed as a percentage. If you set it to 100, the tempo ranges from half-time to double time. If you set Duration to 50 instead, the tempo range is half as wide. Tempo is an exponential function, much like frequency. The actual formula is:

scaled_tempo = base_tempo * 2<sup>n</sup>

with the value of the exponent n given by:

n = signed_step_value / 64 * tempo_range / 100

Tempo scaling is mapped to a linear parameter (the range of a step), so that you can manipulate tempo as if it were linear, even though it isn't. The following table lists the tempo percentages that result from a range of step values, assuming a Duration of 100. Notice that +32 doesn't give 150%, because tempo isn't linear.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Step Value</th><th>Scaling Factor</th><th>Tempo %</th></tr>
<tr><td>+64</td><td>2<sup>1</sup> = 2</td><td>200</td></tr>
<tr><td>+32</td><td>2<sup>0.5</sup> = 1.414</td><td>141.4</td></tr>
<tr><td>0</td><td>2<sup>0</sup> = 1</td><td>100</td></tr>
<tr><td>&minus;32</td><td>2<sup>&minus;0.5</sup> = 0.707</td><td>70.7</td></tr>
<tr><td>&minus;64</td><td>2<sup>&minus;1</sup> = 0.5</td><td>50</td></tr>
</table>

In actuality the tempo can't quite reach double time, because the maximum @[unsigned versus signed steps\signed] step value is +63, not +64. The table below shows the actual tempo ranges that result from a series of Duration values. Notice that the maximum values are slightly less than ideal (198% instead of 200%, 391% instead of 400%). If this asymmetry is problematic, you can avoid it by only using the lower half of the step value range, from &minus;64 to 0.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th rowspan=2>Duration</th><th colspan=3>Tempo Range</th></tr>
<tr><th>&minus;64</th><th>0</th><th>+63</th></tr>
<tr><td>25</td><td>84%</td><td>100%</td><td>119%</td></tr>
<tr><td>50</td><td>71%</td><td>100%</td><td>141%</td></tr>
<tr><td>100</td><td>50%</td><td>100%</td><td>198%</td></tr>
<tr><td>200</td><td>25%</td><td>100%</td><td>391%</td></tr>
</table>

Only one tempo track can be active (unmuted) at a time. If you have multiple tempo tracks unmuted at once, they will compete, which probably isn't what you want. To get second-order change (tempo changing in multiple ways at once), use @[tempo modulation].

@topic Modulator tracks

A modulator track is simply a track that alters the behavior of another track, in a process called @[modulations\modulation]. To make a modulator track operational, you must connect it to one or more target tracks, via the @[Modulations bar] or the Track menu's @[Create Modulation] command. In most cases, you'll want to prevent a modulator track from outputting MIDI messages, which you can do by changing its @[track types\track type] to "Modulator." A modulator track's @[steps] typically contain values that only make sense in the context of a particular @[modulation types\modulation type], in which case also interpreting those same step values as note velocities or controllers would be unhelpful. One possible exception is a @[note tracks\note track] gating another note track via @[mute modulation], in order to prevent collisions between them. But in general, creating separate "Modulator" type tracks is the most flexible method of setting up modulation sources.

It's recommended to give modulator tracks a small negative time @[track offset\offset], so that they're slightly ahead of their targets. This avoids races and track order dependencies.

@endchapter

@chapter Modulation

@topic Mute modulation

In mute @[modulations\modulation], one track mutes (or "gates") another. The effect is similar to manually muting and unmuting a track, except that it's automated. As the target track loops, each step is processed sequentially. If that step contains the start of a note, the current step in the modulator track is examined, and if it's zero, the note is played, otherwise the note isn't played. In other words, the modulator track's step is interpreted as a mute switch for the target track. In the example below, a note track with a length of 3 steps is muted by a modulator track with a length of 5 steps. Since the pattern repeats after 15 steps (3 &times; 5), only 15 steps are shown.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Note track</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td style="background-color:black">&nbsp;</td><td>Mute modulator</td></tr>
<tr><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td style="background-color:black">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Output notes</td></tr>
</table>

A modulator can mute multiple targets, all potentially having different lengths. The reverse is also true: a target can be muted by multiple modulators, all potentially having different lengths. In the latter case, the target is muted if any of its mute modulators are non-zero.

Juxtaposed @[polymeter] tracks can produce overly dense sequences, particularly if the tracks contain little empty space. Mute modulation directly addresses this problem. Periodically muting the juxtaposed tracks adds more space to the composition. Mute modulation is analogous to viewing a pattern through the gaps in a stencil.

Mute modulation creates repeating "windows" of time. The target tracks play only within their time window, leaving periodic unoccupied space or "holes" in the composition. The holes can be left empty, or occupied by something else, e.g. a different group of target tracks, mute modulated by the opposite pattern. This leads to "call and answer" effects. This method isn't limited to alternating between two groups, for example one could alternate between three or more groups, or partially overlap the groups instead of strictly alternating between them.

@topic Note modulation

In note @[modulations\modulation], a track's note is altered by one or more tracks. A note modulator track is interpreted as an array of @[unsigned versus signed steps\signed] offsets (in semitones), which are added to the target track's default note. For example, suppose the target track has a default note of C. If the corresponding step in the note modulator track contains zero, C is output as usual, but if the modulator step contains 3, the target track outputs Eb instead, because C + 3 semitones = Eb.

If a target track has multiple note modulators, they're summed. This means that a pair of note modulations can potentially cancel each other out, for example if one modulator produces 3 and the other produces &minus;3, the net offset is zero, and the target note remains unchanged.

It's often useful to know what notes a given set of note modulators will produce, and whether those notes form a subset of any common scales. For details, see the <a href="https://victimofleisure.github.io/Polymeter/tools/atonal/Addends.htm">Table of Addends and Their Associated Pitch Sets</a>.

When many note modulators are summed, the resulting pitch can potentially vary over a large range. This can be addressed by limiting the output to an octave. For more on this, see @[track range type\range] and @[range modulation].

Note modulation usually targets @[note tracks], but it can also target @[scale modulation\scale modulators] and @[chord modulation\chord modulators].

@topic Velocity modulation

In velocity @[modulations\modulation], a track's note @[track velocity\velocities] are altered by one or more modulator tracks. A velocity modulator track is interpreted as an array of @[unsigned versus signed steps\signed] offsets, which are added to the note velocities. If a target track has multiple velocity modulators, they're summed. If the offset becomes too large or too small the velocity @[clipping\clips], but otherwise the target's original dynamics are preserved.

It's interesting to combine velocity modulations that operate on different time scales, for example a longer modulator that applies a gradual crescendo could be combined with a shorter modulator that applies "ripple" to the velocities.

Velocity modulation can also be applied to a @[controller tracks\controller track], in which case it offsets the controller value instead of the note velocity.

@topic Duration modulation

In duration @[modulations\modulation], a track's note @[track duration\durations] are altered by one or more modulator tracks. A duration modulator track is interpreted as an array of @[unsigned versus signed steps\signed] offsets (in MIDI @[ticks]), which are added to the note durations. If a target track has multiple duration modulators, they're summed. The duration is prevented from being less than one.

Decreasing the duration causes the notes to become more staccato and percussive, whereas increasing it causes the notes to become more legato and potentially @[note overlap\overlapped]. Duration modulation is more effective if the output instrument has a rapid attack and decay.

@topic Range modulation

In range @[modulations\modulation], a track's notes are transposed by one or more octaves as needed to keep them within a specified @[track range type\range]. The size of the range is typically one octave, though other sizes are possible. The start note of the range is variable, and can be altered by one or more modulator tracks. A range modulator track is interpreted as an array of @[unsigned versus signed steps\signed] offsets, which are added to the range @[track range start\start note]. If a target track has multiple range modulators, they're summed.

Because the transposition is by octaves only, the notes remain in the same scale and key; only their octaves are affected. If several tracks forming a chord are range modulated together, the chord cycles through its possible inversions.

@topic Position modulation

In position @[modulations\modulation], a track's step array is temporarily @[rotate\rotated] left or right by one or more steps. Rotation is similar to shifting, except that it's lossless, because any shifted elements that "fall off" one side wrap around to the other side. For example, rotating 1234 right by one step yields 4123, because the 4 wraps around to the left.

A position modulator track is interpreted as an array of @[unsigned versus signed steps\signed] offsets (in steps), which determine the amount of rotation. A positive value rotates to the right (later in time), a negative value rotates to the left (earlier in time), and a rotation of zero has no effect. If a target track has multiple position modulators, they're summed.

Position modulation is a powerful technique for generating variations. It has a downside however, which is that it can easily cause multiple overlapping instances of the same note on the same channel. On some instruments this may produce undesired artifacts, such as notes being cut off prematurely. For this reason, you may want to prevent @[note overlap\note overlaps].

@topic Tempo modulation

Tempo @[modulations\modulation] is when a @[tempo tracks\tempo track] is modulated by one or more modulator tracks having a modulation type of Tempo. The modulator tracks also must have non-zero Duration, in other words each modulator has its own range of tempo scaling. Initially you can just set them all to 100. Like the tempo track, a tempo modulator can have any function in its steps. The actual tempo at any time is the product of the base tempo, the tempo track, and all of its unmuted tempo modulators. The idea is that tempo can change in @[polymeter], for example changing slowly in one meter, while changing faster in some other meter.

@topic Scale modulation

A scale is broadly defined as a set of notes. A scale can contain any notes in any order, with or without duplicates, spanning any number of octaves. Only @[track type\note tracks] support scale modulation.

When a note track has one or more unmuted scale @[modulations\modulators], it doesn't compute its output note in the usual way. Instead, it builds a temporary scale, consisting of the current step values of each of the scale modulators. Each step value is a @[unsigned versus signed steps\signed] offset in semitones from the target track's @[track note\base note]. The order of the scale modulators within the track's modulation list matters, because the step values are appended to the scale in that order. Muted scale modulators are excluded.

After the scale is built, one its tones is picked via @[index modulation]. A track that uses a scale should also have at least one index modulator. The index modulator's current step value is interpreted as a zero-based index into the scale. If the index exceeds the range of the scale in either direction, it's @[modular arithmetic\wrapped around] as needed. If a track has multiple index modulators, they're summed.

For example, suppose the target track has seven unmuted scale modulators, and their current steps contain 0, 2, 4, 5, 7, 9, and 11 respectively. Assuming the target track's base note is C, this constitutes a C major scale. If the target track's index modulator is zero, the first scale tone (C in this case) is picked; if the index modulator is one, the second scale tone (D in this case) is picked, and so on.

<p><table border=1 cellpadding=2 cellspacing=0>
<caption>Scale Modulation</caption>
<tr><th>Scale Tone</th><td>0</td><td>2</td><td>4</td><td>5</td><td>7</td><td>9</td><td>11</td></tr>
<tr><th>Index</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
<tr><th>Note</th><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>A</td><td>B</td></tr>
</table>

The @[track range type\track range] also works differently in this case. The range is applied to the entire scale <em>before</em> the indexing operation, i.e. before a scale tone is picked.

The target track can still be @[note modulation\note modulated]. In this case the note shift is added to all of the scale tones, before range modulation and indexing. This is useful for transposition.

Scale modulators can also have note modulators. These are applied first as the current scale is being built. Scales can also be affected by @[chord modulation\chords] and @[voicing modulation\voicings].

@topic Chord modulation

A chord is a subset of a @[scale modulation\scale]. A chord can contain any number of tones, up to and including all of the tones of the scale. Chords are created by modulating a note track with scale, chord, and index modulators. Voicing modulators may optionally be added also. In the same way that scale modulators build a current scale consisting of notes, chord modulators build a current chord consisting of scale tones. A chord modulator's step values are @[unsigned versus signed steps\signed] zero-based indexes into the current scale, @[modular arithmetic\wrapped] as needed to avoid range errors. The order of the chord modulators within the track's modulation list matters, because the step values are appended to the chord in that order. Muted chord modulators are excluded.

Chord modulation occurs when a track with unmuted scale modulators also has unmuted chord modulators. In this case the track's @[index modulation] accesses the current chord instead of the current scale. This adds an extra level of mapping. The index modulation picks a chord tone, the chord tone maps to a scale tone, and the scale tone maps to a note. Suppose the track has four chord modulators, which contain 0, 2, 4, and 6 respectively. These correspond to the first, third, fifth, and seventh notes of the current scale. Assuming the scale is C major, this chord modulation produces a C major seventh chord.

For a scale, an index value of one accesses the second scale tone, which in this example contains two, which maps to the note D.

<p><table border=1 cellpadding=2 cellspacing=0>
<caption>Scale modulation</caption>
<tr><th>Scale Tone</th><td>0</td><td>2</td><td>4</td><td>5</td><td>7</td><td>9</td><td>11</td></tr>
<tr><th>Index</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
<tr><th>Note</th><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>A</td><td>B</td></tr>
</table>

For a chord, an index value of one accesses the second chord tone, which in this example contains the value two. Two is then used as an index into the current scale (see above), accessing the third scale tone, which contains four, which maps to the note E.

<p><table border=1 cellpadding=2 cellspacing=0>
<caption>Chord Modulation</caption>
<tr><th>Scale Tone</th><td>0</td><td>4</td><td>7</td><td>11</td></tr>
<tr><th>Chord Tone</th><td>0</td><td>2</td><td>4</td><td>6</td></tr>
<tr><th>Index</th><td>0</td><td>1</td><td>2</td><td>3</td></tr>
<tr><th>Note</th><td>C</td><td>E</td><td>G</td><td>B</td></tr>
</table>

Chord modulation changes the meaning of index modulation, such that chord tones are indexed instead of scale tones. Notice that three things are being distinguished: the subset of notes (the scale), the subset of scale tones (the chord), and which chord tone is picked (the index).

If a track uses chords, @[voicing modulation\voicings] are applied to the chord instead of the scale. Chord modulators can have note modulators, and these are applied first as the current chord is being built. Bear in mind that altering a chord modulator alters it in scale tones, not semitones.

@topic Index modulation

Index modulation picks a note from the current @[scale modulation\scale] or @[chord modulation\chord]. Only @[track type\note tracks] support index modulation. If a chord exists, the index accesses the chord's tones, otherwise if a scale exists, the index accesses the scale's tones. If neither exists, index modulation has no effect. If a track has multiple unmuted index modulators, they're summed to produce a single index value.

The index is zero-based, meaning zero accesses the first tone, one accesses the second tone, and so on. If the index exceeds the range of the chord or scale, it @[modular arithmetic\wraps around]. For example, if the scale has seven tones, they correspond to index values 0 through 6. If the index has a value of 7, it wraps around and accesses the first tone. Similarly, if the index has a value of &minus;1, it wraps around in the other direction and accesses the last tone.

The mapping from index values to scale or chord tones may be affected by the order in which the scale or chord modulations are listed for the target track. For this reason, it's advisable to keep scale and chord modulations in ascending sequential order.

@topic Voicing modulation

A @[scale modulation\scale] or @[chord modulation\chord] can be sorted and optionally widened, by applying one or more voicing modulators to the target track. The voicing modulator's steps are interpreted as follows: If the step value is one or more, it selects a tone to be shifted down an octave (dropped). The numbering scheme is one-based and starts from the highest-pitched tone, i.e. a value of 1 drops the highest tone, a value of 2 drops the second-highest tone, and so on, as shown below. Negative values cause the corresponding tone (determined by taking the absolute value) to be <em>raised</em> instead of dropped.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>N</td><td>The Nth-highest tone is shifted down an octave.</td></tr>
<tr><td>3</td><td>The third-highest tone is shifted down an octave.</td></tr>
<tr><td>2</td><td>The second-highest tone is shifted down an octave.</td></tr>
<tr><td>1</td><td>The highest tone is shifted down an octave.</td></tr>
<tr><td>0</td><td>The scale or chord is sorted, but no tones are shifted.</td></tr>
<tr><td>&minus;1</td><td>The highest tone is shifted up an octave.</td></tr>
<tr><td>&minus;2</td><td>The second-highest tone is shifted up an octave.</td></tr>
<tr><td>&minus;3</td><td>The third-highest tone is shifted up an octave.</td></tr>
<tr><td>&minus;N</td><td>The Nth-highest tone is shifted up an octave.</td></tr>
</table>

Multiple voices can be dropped by applying multiple voicing modulators to the track. For example, to create a drop 2/4 voicing of a tetrachord, apply two voicing modulators, one outputting 2 and the other outputting 4. Many other combinations are possible.

To shift a tone two octaves instead of one, specify the same voicing modulation twice in the track's modulation list. If a voicing modulator exceeds the range of the current scale or chord, it's ignored.

After the voicing is applied, the tones are sorted again, and only then is a tone picked via @[index modulation].

@topic Offset modulation

Offset @[modulations\modulation] changes the time offset of a target note track. An offset modulator's steps are interpreted as @[unsigned versus signed steps\unsigned] delays in MIDI @[ticks]. By default, notes can only be made later, not earlier, but you can work around this by setting the target track's @[track offset\offset] to a negative value. For example if the target track's offset is &minus;64, that gives its offset modulation an effective range of &minus;64 to +63, in other words from 64 ticks early to 63 ticks late.

Offset modulation changes the rhythmic feel of the target track, periodically speeding it up and slowing it down relative to the beat. It can be used to create rolls on drums, or to emulate the feel changes of a live performer. For best results, use a smooth function such as a ramp, triangle or sine wave. Offset modulation can cause @[note overlap\notes to overlap]. Only @[note tracks] support offset modulation.

@endchapter

@chapter Views

@topic Views

The application supports three top-level views, as shown below. Each view is optimized for a different stage of the @[polymeter] composing process.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>View</th><th>Purpose</th>
<tr><td>@[Track View\Track]</td><td>Use for composing @[tracks]. This is the most feature-rich view, with an entire chapter devoted to it.</td></tr>
<tr><td>@[Song View\Song]</td><td>Use for arranging tracks into a @[songs\song], or refining an arrangement that was @[record\recorded] while performing in Live view.</td></tr>
<tr><td>@[Live View\Live]</td><td>Use for live-arranging or performing with tracks. The performance can be recorded as a sequence of @[dubs], and the resulting arrangement can be refined in Song view.</td></tr>
</table>

To switch between the different views, use the View menu's Track, Song, and Live commands or their keyboard shortcuts. Normally only one view is shown at a time. To show multiple views at once, @[splits\split] the view area into two or more tab groups.

@item Song Mode

Which view is shown can affect @[play\playback]. If song view is shown, the sequencer operates in <em>song mode</em>, which means that tracks are automatically muted and unmuted to reflect the @[songs\arrangement]. If @[splits\multiple views] are shown, which view is <em>active</em> determines whether song mode is in effect. When you enter song mode, the @[track mutes] snap to appropriate states based on your @[song position\position] within the song.

@chapter Track View

@topic Track View

The track @[views\view] is the main interface for editing @[tracks], and contains one row for each track. The view is split vertically into two @[panes]. The left pane contains the @[track grid], and the right pane contains the @[track mutes] and @[track steps]. The right pane can also be split horizontally to show the optional @[velocities pane], which lets you edit the step values graphically by dragging bars. To display the track view, use the View menu's @[Show Track View\Track] command.

@item Track view quick help\Quick help

<ul>
<li>To alter the pattern of a track, left-click in its @[steps], which are shown as outlined rectangles. The steps area is to the right of the vertical splitter bar and @[track mutes], and looks similar to graph paper.
<li>To mute or unmute a track, left-click its mute button, which is the green or red rectangle immediately to the right of the vertical splitter bar. Red means the track is muted.
<li>To change the track's loop length, edit its @[track length\Length].
<li>To change what MIDI channel the track outputs, edit its @[track channel\Channel].
<li>To change what MIDI note the track outputs, edit its @[track note\Note].
<li>To change the track's time unit, edit its @[track quant\Quant]. The default is 30 ticks, which is a sixteenth note at the default @[timebase] of 120 ticks per quarter note.
<li>The track's @[track offset\Offset] and @[track swing\Swing] are in ticks; they can be positive or negative.
<li>@[track velocity\Velocity] is an offset that's added to the velocities of the track's notes; it can be positive or negative. It's also applied to @[controller tracks].
<li>@[track duration\Duration] is also an offset. Negative values make the notes more staccato. Positive values make them more legato, in which case they may @[note overlap\overlap].
<li>To @[track selection\select] a track, left-click on its track number. Ctrl+left-click and Shift+left-click both do what you'd expect (select multiple tracks and select a range of tracks).
<li>You can copy/cut/paste/delete/insert tracks, using the @[standard editing commands], or reorder tracks via dragging.
<li>To edit a field, left-click it. When you're finished editing, press Enter or Tab, or left-click anywhere outside of the field. Pressing Tab or Shift-Tab iterates through the fields. You can also end an edit by pressing Ctrl+Up or Ctrl+Down, in which case the edit focus moves up or down a track. For details, see @[grid controls].
<li>To set the same value for multiple tracks, first select the tracks, and then edit the desired field in any one of the tracks; when you end the edit, the new value is applied to all the selected tracks.
<li>Columns can be resized or reordered via the column header. To reset the columns to their default width and order, right-click in the column header and select @{cmd}Reset@} in the context menu.
</ul>

@item Panes

Certain windows may be horizontally or vertically split into panes, separated by a moveable border called a <em>splitter bar</em>. To resize a pane, drag the splitter bar that separates it from its neighbor, in other words left-click on the splitter bar, and while keeping the left mouse button pressed, move the split until the pane is the desired size. While the pointer is positioned over a splitter bar, the cursor changes to indicate that resizing is possible. The borders that separate @[docking windows] from each other, and from the document area, behave similarly to splitter bars.

@topic Track Grid

This @[grid controls\grid control] constitutes the left pane of the @[track view], and contains one row for each @[tracks\track]. Most @[track properties] are editable via this grid. The grid's columns are described below.

@item Track Number\Number

This column is the track number, which is read-only. The column caption is a number sign (#). Left-click in this column to @[list controls\select] tracks. To move a track, left-click in this column, and while keeping the left mouse button pressed, drag the track to the desired location, and then release the left mouse button. Multiple @[track selection\selected tracks] can be moved in the same manner.

@item Track Name\Name

This is the track's name. Appropriately naming tracks makes compositions easier to manage. If you name multiple tracks at once, and the @[Unique track names] option is enabled, sequential numbers are appended to the track names to make them unique. Polymeter supports @[Find] and @[Replace] for track names.

@item Track Type\Type

This property selects the track's @[track types\type], which determines what the track outputs, and how its @[track steps\steps] are interpreted.

@item Track Channel\Channel

This property selects which MIDI channel the track outputs messages on.

@item Track Note\Note

This property has different meanings depending on the @[track type].

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Type</th><th>Meaning</th></tr>
<tr><td>Note</td><td>Which note is output. The octave may be altered by the track's @[track range type\range], and the note may be altered via @[note modulation]. The note may also be altered via a combination of scale, chord, index, and voicing modulation.</td></tr>
<tr><td>Key Aftertouch</td><td>For which note aftertouch is sent.</td></tr>
<tr><td>Control</td><td>Which continuous controller number is sent.</td></tr>
<tr><td>Patch</td><td>Unused.</td></tr>
<tr><td>Channel Aftertouch</td><td>Unused.</td></tr>
<tr><td>Wheel</td><td>Unused.</td></tr>
<tr><td>Tempo</td><td>Unused.</td></tr>
<tr><td>Modulator</td><td>Unused.</td></tr>
</table>

For @[note tracks], the note property is normally displayed as a MIDI note name instead of a number (for example C4 instead of 60), however this behavior can be disabled by setting the @[Show Note Names] option to false, and the note value can be entered numerically regardless of this option. For channel 10 only, the note property is normally displayed as a General MIDI drum name, using a drop list instead of an edit box, but this can be disabled by setting @[Show General MIDI Names] to false.

@item Track Length\Length

This is the length of the track, in steps. It can't be less than one, nor can it exceed the @[maximum track length]. Increasing the length appends empty steps to the end of the track. Decreasing the length removes existing steps from the end of the track. To set the length visually instead of numerically, use the Track menu's @[Length] command.

@item Track Quant\Quant

This is the duration of each track step, in @[ticks]. The table below gives common Quant values for the default @[timebase] (120 ticks per quarter note).

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Fraction</th><th>Ticks</th></tr>
<tr><td>1/2</td><td>240</td></tr>
<tr><td>1/3</td><td>160</td></tr>
<tr><td>1/4</td><td>120</td></tr>
<tr><td>1/6</td><td>80</td></tr>
<tr><td>1/8</td><td>60</td></tr>
<tr><td>1/12</td><td>40</td></tr>
<tr><td>1/16</td><td>30</td></tr>
<tr><td>1/24</td><td>20</td></tr>
<tr><td>1/32</td><td>15</td></tr>
<tr><td>1/48</td><td>10</td></tr>
</table>

Changing a track's quant causes it to play at a different speed. You can compensate for this by @[stretch\stretching] the track. Multiplying the track's quant by its @[track length\length] gives the duration of one cycle through the track, also known as its @[period].

@item Track Offset\Offset

This is the track's time offset, in @[ticks]. Negative values make the track earlier; positive values make it later. The offset can also be altered via @[offset modulation].

@item Track Swing\Swing

This is the track's amount of swing, in @[ticks]. Swing is a time offset that's applied to even-numbered steps. A positive value delays the even-numbered steps, and lengthens the odd-numbered steps to compensate. A negative value hastens the even-numbered steps, and shortens the odd-numbered steps to compensate. Swing is usually positive, and can't exceed the track's @[track quant\Quant]. Setting swing to one-third of the track's Quant results in triplet feel. Swing affects all @[track types] except Modulator.

<p>
<table border=0 cellpadding=2 cellspacing=0>
<tr><td>
<table border=1 cellpadding=2 cellspacing=0>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;</td></tr>
</table>
</td><td>Positive</td></tr>
<tr><td>
<table border=1 cellpadding=2 cellspacing=0>
<tr><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;</td></tr>
</table>
</td><td>Zero</td></tr>
<tr><td>
<table border=1 cellpadding=2 cellspacing=0>
<tr><td>&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
</table>
</td><td>Negative</td></tr>
</table>

@item Track Velocity\Velocity

This is the track's velocity offset. It's a signed value that's added to the velocity values obtained from the track steps. The result is clamped so that it can't exceed the valid range of MIDI data, which can potentially result in @[clipping]. Velocity affects all @[track types] except Tempo and Modulator. The velocity can also be altered via @[velocity modulation].

@item Track Duration\Duration

This is the track's duration offset, in @[ticks]. For note tracks, it's a signed value that's added to the durations of all notes played by the track. Positive values make the note longer (more legato), and negative values make it shorter (more staccato). Positive values may cause notes to overlap, in which case collisions may occur; see @[note overlap]. The duration is clamped to prevent it from being less than one. The duration can also be altered via @[duration modulation].

For tempo tracks and tempo modulators, Duration is repurposed to be the range of the tempo change, as a percentage; see @[tempo tracks].

@item Track Range Type\Range Type

This is the type of range to be applied to the track. Range only affects note tracks. The Octave type forces the output note to stay within a one-octave range, the bottom of which is determined by the @[Track Range Start\Range Start] property. The note is shifted by as many octaves as necessary to keep it within the specified range. For chords and arpeggios, this produces inversions.

The Dual type is similar except that it creates a two-octave range, and assigns the note to the upper or lower octave depending on its pitch. The Range Start property determines the start of the upper octave. If the note is below the Range Start value, it's shifted to the lower octave, otherwise it's shifted to the upper octave.

Range can be used to limit the width of @[note modulation]. Range behaves differently when @[scale modulation] and/or @[chord modulation] are used.

@item Track Range Start\Range Start

This is the starting note of the range to apply to the track. It only affects note tracks, and only has an effect if @[Track Range Type\Range Type] isn't None. Range start can be modulated via @[range modulation].

@topic Track Mutes

Each track has a mute switch, which determines whether the track is enabled or disabled. Muting applies to all @[track types], and can be modulated via @[mute modulation]. Muting a @[note tracks\note track] only prevents it from starting <em>new</em> notes; any notes that were already in progress when the track was muted continue until they finish their durations.

Muting is done via the track mute buttons, which are located immediately to the right of the vertical divider that separates the two panes of the @[track view]. If a track is muted, its mute button is red, otherwise it's green. To toggle the mute state of a single track (from unmuted to muted or vice versa), simply left-click the track's mute button. To toggle the mute states of multiple tracks, first @[track selection\select] them, and then left-click anywhere within the mute buttons area, or use the @[Mute\Track/Mute] command.

To unconditionally mute the selected tracks, regardless of their current mute state, left-click anywhere within the mute buttons area while pressing the @{key}Ctrl@} key.

@topic Track Steps

The track steps area constitutes most of the @[track view]'s right pane. For each track, a row of one or more equally sized rectangles is displayed, to the right of the track's @[track mutes\mute button]. These rectangles correspond to the track's @[steps], and their sizes represent the step duration, also known as the track's @[track quant\Quant].

Left-clicking on a rectangle sets or clears the corresponding step: the step value toggles between zero and the @[default velocity]. For more nuanced control of step values, use the @[velocities pane] or the @[Step Values bar]. For @[note tracks] only, steps can be @[tied notes\tied] together to form notes longer than one step.

Right-clicking on a rectangle selects the corresponding step. A contiguous range of steps can be selected by right-clicking the range's first step, and then while keeping the right button pressed, moving the pointer over the range's last step; for details, see @[step selection].

Empty (zero) steps are white, whereas occupied (non-zero) steps are black, with the following exceptions: selected steps are blueish, and the current position is greenish if the track is unmuted, or reddish if the track is muted. Each track indicates its current position by highlighting one of its steps, unless the @[Show Current Position] option is false. For note tracks only, a tied step fills its entire rectangle, whereas an untied step only fills the left half of its rectangle. 

The steps area can be zoomed horizontally, using the @[Zoom In], @[Zoom Out], and @[Zoom Reset] commands. You can also zoom by spinning the mouse wheel while pressing the @{key}Ctrl@} key, and this centers the zooming at the cursor position. The width of the steps area is determined by the track with the longest @[period]. The ruler at the top of the steps area is marked in beats and ticks; see @[meter] for details. Left-clicking in the ruler jumps to the corresponding @[song position]. Right-clicking in the ruler clears the current step selection if any.

@item Track steps quick help\Quick help

<ul>
<li>Left-click a step to create a note or event. Left-click the step again to empty it.
<li>For @[note tracks] only, to create a @[tied notes\tied note], use Shift+left-click. Multiple adjacent steps can be tied together to create long notes, but the track must contain at least one empty or untied step, otherwise it will be silent.
<li>You can specify whether tied or untied notes are created by default, using the @[tie notes\Track/Tie Notes] command, which is also available from the @[toolbar].
<li>To edit step values visually as bars, use the @[velocities pane]; to edit them numerically, use the @[Step Values bar].
<li>The right mouse button behaves differently than usual. In the steps area, right-clicking and dragging creates a @[step selection].
<li>Rectangular step selections can be cut, copied, pasted, deleted, and inserted, using the @[standard editing commands].
<li>Right-clicking and dragging vertically over the mute buttons selects the corresponding tracks. While tracks are selected, left-clicking within the mute area toggles the selected track mutes, and Ctrl+left-click within the mute area unconditionally mutes the selected tracks, regardless of their current state.
<li>To change the zoom in the time axis, use the @[Zoom In] and @[Zoom Out] commands, or spin the mouse wheel while pressing the @{key}Ctrl@} key.
<li>Left-clicking in the ruler at the top of the track steps area jumps to the corresponding @[song position].
</ul>

@topic Track Selection

Many commands operate on selected @[tracks]. You can select tracks in one of two ways: by selecting rows in the @[track grid], or by right-clicking @[track mutes\track mute] buttons.

To use the first method, left-click in the track number column, which has a number sign (#) in the list header. This is usually the grid's leftmost column, unless you've reordered the columns. You can also select multiple rows, and select via the keyboard; for more help with selecting, see @[list controls].

You can also select tracks via their mute buttons, which are located immediately to the right of the vertical divider that separates the two panes of the @[track view].

<ul>
<li>To toggle the selection of an individual track, right-click its mute button.
<li>To toggle the selection of a range of adjacent tracks, right-click over the first track's mute button, and while keeping the right mouse button pressed, move the pointer vertically until it's over the last track's mute button.
<li>To clear the track selection, use the @[Deselect] command, or right-click within the ruler at the top of the @[track steps] area.
</ul>

Some commands can operate on either a track selection or a @[step selection]. For such commands, if a step selection exists, it has priority over the track selection, meaning the track selection is ignored in that case.

@topic Step Selection

Many commands operate on a contiguous range of selected @[steps]. Steps are selected via right button dragging within the @[track steps] area: right-click on the initial step, and while keeping the right mouse button pressed, move the pointer until it's over the final step, and then release the right mouse button. To clear an existing step selection, right-click within the position ruler at the top of the steps pane, or press the @{key}Esc@} key.

A step selection may be entirely within one track, or may span multiple tracks, in other words it can be one-dimensional or two-dimensional. A multi-track step selection is created using a diagonal motion: right-click one of its corners, and then while keeping the right mouse button pressed, move the pointer to the diagonally opposite corner, and then release the right mouse button.

Some commands only accept a <em>rectangular</em> step selection. A multi-track step selection is rectangular if all of its rows contain the same number of steps. This isn't necessarily the case if the tracks involved have different lengths, particularly if you select near the end of such tracks. If the step selection isn't rectangular, and you try to execute a command that requires it to be rectangular, you'll get the error message "Invalid step selection." For example, the @[standard editing commands] only accept a rectangular step selection.

Some commands can operate on either a @[track selection] or a step selection. For such commands, if a step selection exists, it has priority over the track selection, meaning the track selection is ignored in that case. This can potentially cause confusion, particularly if the steps area is scrolled so that the step selection is no longer visible.

@topic Velocities Pane

The velocities pane displays the velocities of notes within the @[track selection\selected tracks], and also lets you edit the velocities. The velocities pane isn't restricted only to @[note tracks]; it can also be used to view and edit the @[steps\step values] of other @[track types] including @[controller tracks\controller], @[tempo tracks\tempo], and @[modulator tracks\modulator] tracks. The velocities or step values are represented by vertical bars that can be clicked and dragged. The velocities pane is primarily intended for gestural drawing. If you want to specify exact values, it may be easier to enter them numerically in the @[Step Values bar].

The velocities pane is optional, and when visible, it appears at the bottom of the @[track steps] area within the @[track view]. To show or hide the velocities pane, use the @[show velocities\View/Velocities] command. To change the height of the pane, drag the @[panes\splitter bar] that separates the pane from the track steps.

<ul>
<li>At least one track must be selected, otherwise the pane is empty. Multiple tracks can be selected, in which case their events are combined.
<li>To edit a velocity, left-click on its bar at the point where you want it to be, or left-click and drag the bar up or down until it's where you want it.
<li>To edit multiple velocities, left-click and drag the cursor over the bars you want to change.
</ul>

The pane supports a variety of drawing functions, which are accessed by pressing modifier keys while dragging. For more precise control, you may prefer to use the @[fill\Track/Fill] command which offers similar functions but in parameterized form.

<ul>
<li>To make all the velocities the same, hold down the @{key}Shift@} key while dragging.
<li>To make the velocities fit a straight line, hold down the @{key}Ctrl@} key while dragging.
<li>To make the velocities fit a triangle wave, hold down the @{key}Ctrl@} and @{key}Alt@} keys while dragging diagonally.
<li>To make the velocities fit a sine wave, hold down the @{key}Shift@} and @{key}Alt@} keys while dragging diagonally.
</ul>

When using the triangle or sine functions, visualize a rectangle that contains the desired wave, and draw one of the diagonals of that rectangle. The triangle and sine functions are both sensitive to the drawing direction. Drawing from top to bottom inverts the wave vertically. Drawing from right to left shifts the wave's phase by 90&deg;.

The pane also features tool tips that show step values. To learn a bar's exact value, hover the cursor (hold it stationary) over the bar for at least half a second, and its value will appear in a tool tip. The tool tip is also shown continuously while dragging is in progress.

The tool tip can show either @[unsigned versus signed steps\signed or unsigned] step values. To switch between the two, left-click the small button on the left border of the velocities pane. The button indicates the step value at the vertical center of the pane. If it shows 64, unsigned tooltips are selected, whereas if it shows 0, signed tooltips are selected.

@endchapter

@topic Song View

The song @[views\view] is for arranging your @[tracks]. The arrangement is also known as a @[songs\song], and it consists of a sequence of @[dubs], each of which mutes or unmutes one more tracks. To display the song view, use the View menu's @[Show Song View\Song] command.

Song view contains one row for each track, and is vertically split into two @[panes]. The left pane contains the track names, and the right pane contains the @[song grid], explained below. To change the proportions of the panes, drag the splitter bar that separates them. 

Instead of creating an arrangement entirely via editing in song view, you may find it more intuitive to first @[record] a rough arrangement in @[live view], and then refine it in song view. For complex arrangements, you can repeat the record/edit cycle for each section, instead of trying to get the entire arrangement right in one take.

@item Song Grid

The song grid is a timeline editor for dubbing. It lets you "paint" with your tracks, by drawing the regions where each track should be audible. Each grid row corresponds to a track, and wherever the row is highlighted in green, the corresponding track is unmuted (audible). Tracks are automatically repeated infinitely, and always maintain correct phase regardless of dubbing.

The vertical axis is tracks, and the horizontal axis is time. The grid's width is determined by the @[Song Length]; to access the time beyond the maximum horizontal scroll position, increase the song length. The grid can be zoomed in the horizontal axis only, via the @[Zoom In], @[Zoom Out], and @[Zoom Reset] commands. You can also zoom by spinning the mouse wheel while pressing the @{key}Ctrl@} key, and this centers the zooming at the cursor position.

A grid row is divided into cells, each of which represent one or more @[steps] of the corresponding track. The zoom specifies the duration of a grid cell, hence for any given row, zoom determines the relationship between that row's cells and the corresponding track's steps. As you zoom in, more detail becomes visible, because each cell represents fewer steps. Cells that represent at least one non-zero step are marked with a black square. For @[tied notes], only the note's first step is considered.

The song grid has features in common with the track view's @[track steps\steps pane]. For example, left-clicking toggles cells, and a rectangular range of cells can be @[cell selection\drag-selected] via the right mouse button, similarly to @[step selection]. The ruler at the top of the grid is marked in beats and ticks, and possibly also in measures, depending on the @[meter]. Left-clicking in the ruler jumps to the corresponding @[song position]. Right-clicking in the ruler clears the current cell selection.

Be careful when editing while zoomed out, because the further out you're zoomed, the more details are hidden. This is most likely to be a problem when extending an existing dub. In such cases you should zoom in and make sure you haven't left unintended gaps. It's also recommended to step through your dubs, using the left and right arrow keys in combination with the @{key}Alt@} key, as this can help you find mistakes.

@item Song grid quick help\Quick help

<ul>
<li>Each grid cell represents a timespan. A grid cell is highlighted in green if the corresponding track is unmuted (audible) during that cell's timespan.
<li>To toggle a single cell from muted to unmuted or vice versa, left-click it.
<li>To mute a cell regardless of its current state, left-click it while pressing the @{key}Ctrl@} key.
<li>To select a rectangular range of cells, right-click one corner of the range, and while keeping the right mouse button pressed, drag the pointer to the diagonally opposite corner, and then release the right mouse button.
<li>To toggle multiple adjacent cells, first select them as explained above, and then toggle them by left-clicking anywhere within the grid.
<li>To mute the selected cells regardless of their current state, keep the @{key}Ctrl@} key pressed while left-clicking.
<li>To clear a cell selection, right-click in the ruler at the top of the view, or press the @{key}Esc@} key.
<li>If a cell selection exists, the @[standard editing commands] apply to cells rather than tracks, provided the grid has the input focus; see below.
<li>To @[track selection\select] a track, left-click on its name. Ctrl+left-click and Shift+left-click both do what you'd expect (select multiple tracks and select a range of tracks). Note that this transfers the input focus to the track name area, hence subsequent standard editing commands affect tracks rather than cells, unless you restore the input focus to the grid by clicking within it.
<li>Zooming changes the duration of grid cells. To see more detail, zoom in; to see the big picture, zoom out.
</ul>

@item Cell selection

It's often useful to select a contiguous range of cells in one or more tracks, also known as a cell selection. A cell selection must be rectangular. To make a cell selection, right-click any corner of the desired range, and while keeping the right mouse pressed, drag the pointer to the diagonally opposite corner of the range, and then release the right mouse button. If the pointer reaches an edge of the view while you're dragging, the view is scrolled automatically, and this lets you make a cell selection larger than what would fit on the screen. A selected cell is colored either cyan or yellow, depending on whether the cell is unmuted, as shown below:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Unmuted</th><th>Selected</th><th>Color</th></tr>
<tr><td>No</td><td>No</td><td>White</td></tr>
<tr><td>Yes</td><td>No</td><td>Green</td></tr>
<tr><td>No</td><td>Yes</td><td>Cyan</td></tr>
<tr><td>Yes</td><td>Yes</td><td>Yellow</td></tr>
</table>

The selected cells can be toggled by left-clicking anywhere in the view, or muted by left-clicking with the @{key}Ctrl@} key down. A cell selection can also be copied, cut, pasted at, inserted at, or deleted via the @[standard editing commands]. When deleting an entire section from an arrangement, or inserting empty space into the middle of an arrangement, make sure your cell selection includes all the tracks.

Empty space can be inserted in two ways. One way is to make a cell selection that's one cell wide and then repeat the insert command as many times as needed. The other way is to find an empty area of the view, select an area of the desired width, copy it, select the upper left corner of the area where the insertion should go, and then paste.

@topic Live View

The live @[views\view] makes it easier to perform a live arrangement of your @[tracks]. While it's also possible to perform in @[track view], live view has advantages, as explained below. To display the live view, use the View menu's @[Show Live View\Live] command.

<ul>
<li>You can @[record] your live arrangement while you're performing it. Your arrangement decisions are recorded as a sequence of @[dubs], also known as a @[songs\song]. Recording a live arrangement can be more intuitive than creating an arrangement via editing in @[song view].
<li>You can reduce the number of tracks shown in live view by @[create group\grouping] related tracks together into @[parts]. It's easier to arrange fewer elements, and shortening the track list can also avoid time-consuming scrolling. You may also be able to avoid scrolling by using a @[live view font height\smaller font].
<li>Live view has a much simpler interface than track view, with less distractions, which helps you concentrate on performing.
<li>Live view supports a two-stage ready/go process, which lets you prepare a multi-track transition and then execute it, using only one hand, leaving your other hand free to operate a control surface, for example; see below.
<li>Tracks can't be edited in live view, so you needn't worry about inadvertently modifying your tracks while performing.
</ul>

Live view features two lists. The left list contains your @[presets], and the right list contains your tracks and parts. In live view, tracks that belong to a part are hidden; the part's name is listed as a substitute for its member tracks. A part's position in live view is determined by the position of its first member track in track view.

In the track list, muted items are orange, and unmuted items are green. To toggle an item from muted to unmuted or vice versa, left-click it. To mute an item regardless of its current state, left-click it while pressing the @{key}Ctrl@} key.

Items can also be selected via the right mouse button, and then toggled or muted all at once via the left mouse button, in a two-stage process, similarly to the @[track mutes]. This lets you prepare a multi-track transition and then execute it, using only one hand. Selected items are highlighted using dark text on a light background. To toggle the selection of an item, right-click it. To toggle the selection of a group of adjacent items, right-click the group's first item, and then while keeping the right mouse button pressed, drag the pointer to the group's last item. To deselect all items, right-click in the area to the right of the track list. If a selection exists, left-clicking anywhere within the view toggles or mutes the selected items, depending on whether the @{key}Ctrl@} key is down. The selected items can also be soloed, using the solo button at the top of the view.

The presets list works somewhat differently. To apply a preset, left-click the corresponding item. To select a preset, right-click the corresponding item. If a preset is selected, left-clicking anywhere in the view applies the preset. Only one preset can be applied or selected at a time.

Live view shows a progress bar for each track list item. Each progress bar indicates the current position within the corresponding track or part. If a part's member tracks have different @[period\periods], its progress bar corresponds to the longest period.

If your arrangement is complex, you may prefer to record each section separately, instead of trying to get all the sections right in one take. To append a new section, move the @[song position] to the end of the last completed section before you start recording. Your live arrangement can be approximate, because you can refine its transitions later in song view.

It's a good idea to record your rehearsals, in case there's a happy accident. You may want to use the @[Always Record] option, so that you can't accidentally fail to record a perfect take. In order to further reduce visual clutter, it's recommended to use live view in @[full screen] mode.

@endchapter

@chapter Docking Windows

@topic Docking windows

Docking windows are special windows that can be @[arranging docking windows\arranged] in various ways, in order to make the application more convenient to use. Docking windows are shown or hidden using the @{cmd}View/Docking Windows@} submenu. Many of Polymeter's features are accessed via docking windows.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>@[toolbar\Standard]</td><td>The toolbar, containing buttons for frequently used commands</td></tr>
<tr><td>@[channels bar\Channels]</td><td>Lets you edit the properties of each MIDI channel</td></tr>
<tr><td>@[graph bar\Graph]</td><td>Displays graphs of modulations</td></tr>
<tr><td>@[midi input bar\MIDI Input]</td><td>Displays input MIDI events in real time</td></tr>
<tr><td>@[midi output bar\MIDI Output]</td><td>Displays output MIDI events in real time</td></tr>
<tr><td>@[mapping bar\Mapping]</td><td>Lets you edit translations and mappings of input MIDI events</td></tr>
<tr><td>@[modulations bar\Modulations]</td><td>Lets you edit modulations for the @[track selection\selected tracks]</td></tr>
<tr><td>@[parts bar\Parts]</td><td>Lets you edit the list of parts</td></tr>
<tr><td>@[phase bar\Phase]</td><td>Displays phase relationships for the selected tracks</td></tr>
<tr><td>@[piano bar\Piano]</td><td>Displays output notes in real time on a virtual piano keyboard</td></tr>
<tr><td>@[presets bar\Presets]</td><td>Lets you edit the list of presets</td></tr>
<tr><td>@[properties bar\Properties]</td><td>Lets you edit the master properties</td></tr>
<tr><td>@[step values bar\Step Values]</td><td>Lets you edit track step values numerically, using a grid view</td></tr>
</table>

@topic Arranging docking windows

@[Docking windows] can be arranged in various ways to suit your taste. The arrangement determines how much space remains for viewing and editing the document. The following options are just some of the ways that docking windows can be arranged:

<ul>
<li>Dock windows to the edge of a frame.
<li>Tab-dock windows together with other windows.
<li>Float windows over or outside the application.
<li>Hide windows along the edge of the application.
<li>Display windows on different monitors.
<li>Reset window placement to the default layout.
</ul>

Docking windows can be arranged by dragging, by using commands on the Window menu, and by right-clicking the title bar of the window to be arranged.

@item Floating windows

You can undock a window from its default location in the application and move that window anywhere on the desktop or to another monitor. You can dock multiple windows together in a "raft" and then move them as a unit anywhere on the desktop or to another monitor.

To position a window outside the application:
<ul>
<li>Drag the window to the location you want.
</ul>

To return a window to its most recent docked location:
<ul>
<li>Double-click the title bar of the window.
</ul>

Docking windows can be fastened to one side of a frame in the application or within the editing frame. A guide diamond appears when you drag a window to another location to help you to easily re-dock the window.

To dock windows:
<ul>
<li>Click the title bar of the window you want to dock.
<li>Drag the window toward the middle of the application. Tip: To move a dockable window without snapping it into place, press the @{key}Ctrl@} key while you drag the window. A guide diamond appears. The four arrows of the diamond point toward the four sides of the target pane. An additional four arrows point to the four edges of the application.
<li>When the window you are dragging reaches the location where you want to dock it, move the pointer over the corresponding portion of the guide diamond. The designated area is shaded.
<li>To dock the window in the position indicated, release the mouse button.
</ul>

For example, if the properties bar is docked on the right edge of the application and you want to dock it on the left edge, drag it toward the middle of the application, move the pointer over the far left arrow of the guide diamond, and then release the mouse button.

A floating window can be maximized to cover the entire screen. To maximize a floating window, select the Maximize item from its Window menu. To restore a maximized window to its previous size and location, select the Restore item from its Window menu.

@item Auto hide

Docking windows support a feature called Auto Hide. Auto Hide causes a window to slide out of the way when you use a different window. When a window is auto-hidden, its name appears on a tab at the edge of the application. To use the window again, point to the tab so that the window slides back into view.

To use Auto Hide:
<ul>
<li>On the menu bar, choose Window, Auto Hide to turn Auto Hide on or off. As an alternative, you can click the pushpin icon on the title bar of the window. 
</ul>

Docking windows that have Auto Hide enabled may temporarily slide into view when the window has focus. To hide the window again, select an item outside of the current window. When the window loses focus, it slides back out of view.
 
@item Specifying a Monitor

If you have a second @[multiple monitors\monitor] and your operating system supports it, you can choose which monitor displays a window. You can even group multiple windows together in "rafts" on other monitors.

To move windows to different monitors:
<ul>
<li>Use the Display settings in the Control Panel to set up a multiple monitor configuration.
<li>In the application, drag the window to the other monitor.
</ul>

@item Resetting window layouts

You can return the application to the original window layout by using the @[Reset Layout\Window/Reset Layout] command.

@topic Menu bar

The menu bar contains the application's main menus. Unlike other @[docking windows], the menu bar can't be hidden, and can only be docked along the top, bottom, left, or right edge of the application.

@topic Toolbar

The toolbar provides buttons for the most frequently used commands. To show or hide the toolbar, use @{cmd}View/Docking Windows/Standard@}. Unlike other @[docking windows], the toolbar can only be docked along the top, bottom, left, or right edge of the application.

@topic Properties bar\Properties

This @[docking windows\docking window] lets you edit the @[master properties]. These properties are saved in the document. To edit a property, left-click it and change its value. To save your edit, press @{key}Enter@} or @{key}Tab@}, or left-click outside the property being edited. To cancel your edit, press @{key}Escape@}. While you're editing a property, the arrow keys may have different meanings. For example, for numeric edits and drop lists, the up/down arrows scroll through the possible values. If you're not editing a property, the up/down arrows navigate through the list of properties. To edit the currently selected property, press @{key}Tab@}.

@item Master properties

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>@[Tempo]</td><td>Tempo, in beats per minute</td></tr>
<tr><td>@[Timebase]</td><td>Time division, in ticks per quarter note</td></tr>
<tr><td>@[Meter]</td><td>Number of beats in a measure</td></tr>
<tr><td>@[Key Signature]</td><td>Key in which notes are displayed</td></tr>
<tr><td>@[Song Length]</td><td>Song duration in hh:mm:ss format</td></tr>
<tr><td>@[Start Position]</td><td>Starting position of song in beats and ticks</td></tr>
<tr><td>@[Note Overlap]</td><td>How to handle overlapping instances of the same note on a channel</td></tr>
<tr><td>@[Record Offset]</td><td>Offset added to recorded MIDI event times during playback, in ticks</td></tr>
<tr><td>@[Loop From]</td><td>Starting position of loop, in beats and ticks</td></tr>
<tr><td>@[Loop To]</td><td>Ending position of loop, in beats and ticks</td></tr>
</table>

@topic Channels bar\Channels

This @[docking windows\docking window] lets you edit the setup for each MIDI channel. The messages specified here are sent when playback starts. This is useful if you want to initialize your instruments, by sending them patch change messages, for example. The properties are edited via a @[grid controls\grid control].

@item Channels columns\Columns

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Column</th><th>Description</th></tr>
<tr><td>#</td><td>The channel number; use this column to @[list controls\select] channels</td></tr>
<tr><td>Patch</td><td>The channel's patch number, or &minus;1 for none</td></tr>
<tr><td>Volume</td><td>The channel's volume, or &minus;1 for none</td></tr>
<tr><td>Pan</td><td>The channel's panning, or &minus;1 for none</td></tr>
<tr><td>Bank LSB</td><td>The Least Significant Byte of the channel's bank, or &minus;1 for none</td></tr>
<tr><td>Bank MSB</td><td>The Most Significant Byte of the channel's bank, or &minus;1 for none</td></tr>
</table>

@topic Presets bar\Presets

This @[docking windows\docking window] lets you edit your @[presets]. When you create a preset, it's given a temporary numeric name which you're free to change. For item selection methods, see @[list controls].

@item Presets context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Item</th><th>Description</th><th>Selection</th></tr>
<tr><td>Create</td><td>Creates a new preset from the current state of the @[track mutes], and appends it to the presets list.</td><td>N/A</td></tr>
<tr><td>Apply</td><td>This command applies the selected preset, by muting and unmuting tracks as needed.</td><td>Single</td></tr>
<tr><td>Delete</td><td>Deletes the selected presets.</td><td>Multiple</td></tr>
<tr><td>Rename</td><td>Renames the selected preset.</td><td>Single</td></tr>
<tr><td>Update</td><td>Updates the selected preset from the current state of the track mutes.</td><td>Single</td></tr>
</table>

@topic Parts bar\Parts

This @[docking windows\docking window] lets you edit your @[parts]. When you create a preset, it has the same name as its first member @[tracks\track], but you're free to rename it. For item selection methods, see @[list controls].

@item Parts context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Item</th><th>Description</th><th>Selection</th></tr>
<tr><td>Create</td><td>Creates a new part from the selected tracks, and appends it to the parts list.</td><td>N/A</td></tr>
<tr><td>Delete</td><td>Deletes the selected parts.</td><td>Multiple</td></tr>
<tr><td>Rename</td><td>Renames the selected part.</td><td>Single</td></tr>
<tr><td>Update</td><td>Updates the selected part from the selected tracks.</td><td>Single</td></tr>
<tr><td>Tracks</td><td>Selects the tracks that belong to the selected parts.</td><td>Multiple</td></tr>
<tr><td>Sort</td><td>Sorts the parts, by name or by track.</td><td>N/A</td></tr>
</table>

@topic Modulations bar\Modulations

This @[docking windows\docking window] lets you edit your @[modulations]. The modulations are edited using a @[grid controls\grid control]. Only modulators for the @[track selection\selected tracks] are shown. If no tracks are selected, or if the selected tracks don't have any modulators, the window is empty.

@item Creating a modulation

To create a modulation, do the following:

<ol>
<li>@[track selection\Select] one or more tracks; each of these tracks will be a target of the new modulation.
<li>Ensure the Modulations bar is visible, and also ensure it has focus, by left-clicking or right-clicking within it.
<li>Insert a new modulation, using either @[insert\Edit/Insert] or its keyboard @[shortcuts\shortcut], or @{cmd}Insert@} on the @[Modulations context menu\context menu].
<li>Select the desired @[modulation types\modulation type] if needed. The type defaults to @[mute modulation].
<li>Select the desired modulation source, in other words the track that will do the modulating. If the source is "&lt;None&gt;" the modulation has no effect.
</ol>

The new modulation is inserted at the current position in the modulation list. To append, first left-click or right-click below the last list item, so that no item is selected. If your modulation gets inserted in the wrong place, you can move it afterwards by left-clicking and dragging it.

@item Creating a modulation group

Sometimes it's desirable to create a group of modulations, all targeting the same tracks and having the same @[modulation types\modulation type], but with different source tracks. Instead of @[creating a modulation\creating] the modulations one by one, it's easier to create them all at once, as follows:

<ol>
<li>@[track selection\Select] one or more tracks; each of these tracks will be a target of the new modulations.
<li>Ensure the Modulations bar is visible.
<li>Insert a new modulation group, using either @[Create Modulation\Track/Modulation] or its keyboard @[shortcuts\shortcut], or @{cmd}Insert Group@} on the @[Modulations context menu\context menu]. The Modulation dialog is displayed.
<li>In the Modulation dialog, select one or more source tracks and a modulation type, and then press OK to create the modulations.
</ol>

@item Show Differences

The Modulations bar normally shows all modulations that the @[track selection\selected tracks] have in common. If the selected tracks don't all have exactly the same modulations, the message "&lt;Differences&gt;" is displayed at the bottom of the list. This message indicates that at least one of the selected tracks has a modulation that's hidden, because it's not shared by the other tracks.

In some cases you may prefer to show all modulations that target any of the selected tracks, regardless of whether all the selected tracks share them. To do this, enable @{cmd}Show Differences@} mode via the @[Modulations context menu\context menu]. In Show Differences mode, the modulations list is a summary report. Each row of the report corresponds to a unique combination of modulation type and source track, and the number of instances of that combination is displayed in the index column. The report is sorted into descending order by number of instances. Reordering the modulations via drag and drop isn't supported in Show Differences mode.

@item Modulations context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Item</th><th>Description</th></tr>
<tr><td>Insert</td><td>Inserts a new modulator at the current position.</td></tr>
<tr><td>Insert Group</td><td>Inserts a @[Create Modulation\group] of modulators at the current position.</td>
<tr><td>Delete</td><td>Deletes the selected modulators.</td></tr>
<tr><td>Cut</td><td>Deletes the selected modulators after copying them to the @[clipboards\clipboard].</td></tr>
<tr><td>Copy</td><td>Copies the selected modulators to the clipboard.</td></tr>
<tr><td>Paste</td><td>Inserts the contents of the modulations clipboard at the current position.</td></tr>
<tr><td>Select All</td><td>Selects all items in the modulations list.</td></tr>
<tr><td>Show Differences</td><td>Toggles @[Show Differences] mode.</td></tr>
<tr><td>Sort</td><td>Sorts the modulators by modulation type or by source track index.</td></tr>
</table>

@topic MIDI Input bar\MIDI Input

This @[docking windows\docking window] displays input MIDI events in real time, which can be useful for debugging your MIDI setup. To display output events, use the @[MIDI Output bar], which works similarly.

By default, the window shows all input received from the MIDI @[input device]. The data can be filtered, so that only a subset of the events are shown, using optional filters which are accessible via @[MIDI IO context menu\context menu]. The filtering is non-destructive, i.e. if you remove a filter, any events that were rejected by that filter reappear.

For example, to only see events on channel 10, select 10 in the @{cmd}Channel Filter@} submenu. To only see Note On messages, select "Note On" in the @{cmd}Message Filter@} submenu. To remove all filters, use the context menu's @{cmd}Reset Filters@} command.

To pause the display, select @{cmd}Pause@} in the window's context menu. Events continue to be captured while you're paused, so you won't miss any. To resume the display, reselect @{cmd}Pause@} in the context menu. The context menu also allows you to clear the event history, via @{cmd}Clear History@}.

@item MIDI IO context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Channel Filter</td><td>To show only a particular channel, select the corresponding submenu item, or select "All" to show messages from all channels.</td></tr>
<tr><td>Message Filter</td><td>To show only a particular message type, select the corresponding submenu item, or select "All" to show all message types.</td></tr>
<tr><td>System Messages</td><td>Check this item to enable the display of system messages.</td></tr>
<tr><td>Reset Filters</td><td>Resets all filters to their default settings (show all channels and all messages, including system messages).</td></tr>
<tr><td>Pause</td><td>Pauses and unpauses the display.</td></tr>
<tr><td>Clear History</td><td>Removes all stored messages from the history.</td></tr>
<tr><td>Export</td><td>Exports the current message history to a CSV file. All messages are exported, regardless of filtering.</td></tr>
<tr><td>Note Names</td><td>Check this item to display note names instead of numbers.</td></tr>
<tr><td>Controller Names</td><td>Check this item to display controller names instead of numbers.</td></tr>
<tr><td>Reset Columns</td><td>This command resets the list column header to its default state.</td></tr>
</table>

@topic MIDI Output bar\MIDI Output

This @[docking windows\docking window] displays output MIDI events in real time, which can be useful for debugging your MIDI setup. By default, the window shows all output sent to the MIDI @[output device]. For event filtering and other details, see the @[MIDI Input bar].

@topic Piano bar\Piano

This @[docking windows\docking window] dynamically displays the output notes on a virtual piano keyboard. The piano keyboard's orientation can be horizontal or vertical, depending on whether the window is docked horizontally or vertically. To monitor MIDI output messages other than notes, e.g. controllers, use the @[MIDI Output bar] instead.

By default, output notes are displayed for all MIDI channels. To show only a particular channel, use the @{cmd}Channel Filter@} submenu of the window's @[Piano context menu\context menu]. The context menu also lets you change the size of the piano keyboard, show or hide the key labels, and rotate the key labels. The window can optionally send MIDI notes when the corresponding keys are left-clicked. To enable this feature, use the context menu's @{cmd}Output Channel@} submenu to select the desired MIDI channel.

@item Piano context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Channel Filter</td><td>To only show notes on a particular MIDI channel, select the corresponding submenu item, or select "All" to show notes from all channels.</td></tr>
<tr><td>Output Channel</td><td>In this submenu, select the MIDI channel on which left-clicked piano keys should send the corresponding notes, or select "None" to disable this feature.</td></tr>
<tr><td>Piano Size</td><td>To resize the keyboard, select a standard piano size from the submenu.</td></tr>
<tr><td>Key Labels</td><td>Check this item to show labels on the piano keys that identify the corresponding MIDI notes.</td></tr>
<tr><td>Rotate Labels</td><td>Check this item to rotate the key labels 90&deg; counterclockwise, so that they're vertical instead of horizontal. This may allow the labels to use a larger font. This option is only supported when the window is docked horizontally.</td></tr>
<tr><td>Color Velocities</td><td>Check this item to color the piano keys according to the velocities of the output notes. The colors range spectrally from blue (softest) to red (loudest).</td></tr>
</table>

@topic Graph bar\Graph

This @[docking windows\docking window] graphs your @[modulations], in order to make them easier to visualize. To use this feature, you must first download and install <a href="http://www.graphviz.org/download/">Graphviz</a>, an excellent free graphing software that's used by many notable projects. If you're running 64-bit Windows, it's recommended to use a 64-bit build of Graphviz. More recent versions of Graphviz only support Windows 10.

Polymeter looks for Graphviz in two system folders: Program Files, and Program Files (x86). If it's not found in either place, you'll be prompted for the location of Graphviz.

The graphing options are selected via @[Graph context menu\context menu]. The scope of the graph can be one of these:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Scope</th><th>Description</th></tr>
<tr><td>All</td><td>Show all modulations regardless of @[track selection]</td></tr>
<tr><td>Sources</td><td>Show modulators of selected tracks</td></tr>
<tr><td>Targets</td><td>Show targets of selected tracks</td></tr>
<tr><td>Bidirectional</td><td>Show modulators and targets of selected tracks</td></tr>
</table>

Various graph layouts are supported, including dot (for hierarchical graphs) and neato (for non-hierarchical graphs). The edges are @[Graph edge colors\colored] to indicate modulation type, and edge labels can optionally be displayed. The graph is generated as vectors (SVG format) so it's zoomable, and can be exported for printing. Hovering over a node's label shows a tooltip containing the track number. The graph is displayed using a web browser control (IWebBrowser2). Note that the recommended Internet Explorer version is 11 or later (Edge); earlier versions of IE may display the graph incorrectly or not at all.

@item Graph context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Scope</td><td>Use this submenu to select the scope of the graph. Scopes are explained above. For scopes other than All, the modulation network is crawled by starting from the selected tracks and traversing their modulators, targets, or both. The traversal can be limited to a specific distance via the Depth option.</td></tr>
<tr><td>Depth</td><td>Use this submenu to limit the recursion depth of the graph to a specific number of levels. To allow unlimited recursion depth, select Maximum. This option lets you simplify the graph by only including modulations that are closely connected to the selected tracks. It has no effect if the Scope is All.</td></tr>
<tr><td>Layout</td><td>Use this submenu to select a Graphviz layout engine. The dot layout engine draws a hierarchical graph, which is often the most useful way to visualize a modulation network. The other layout engines draw various types of non-hierarchical graphs.  For more information on layouts, see the <a href="http://graphviz.org/documentation/">Graphviz documentation</a>.</td></tr>
<tr><td>Filter</td><td>Use this submenu to filter the graph by modulation type. To show all types, select All. To show only a single type, select its name. To show multiple types, select Multiple, check list items in the resulting dialog, and press OK. By default, all types are shown. The filter is applied after the modulation network has been crawled.</td></tr>
<tr><td>Zoom</td><td>Use this submenu to zoom the graph in or out, or reset zoom to its default value. The shortcuts are @{key}Ctrl++@} to zoom in, @{key}Ctrl+-@} to zoom out, and @{key}Ctrl+0@} to reset the zoom. To zoom in/out to/from the cursor position, spin the mouse wheel while pressing the @{key}Ctrl@} key.</td></tr>
<tr><td>Highlight</td><td>This item enables or disables highlighting of the selected tracks in the graph. When this option is enabled, the selected tracks are indicated by drawing the corresponding graph nodes with a different background color.</td></tr>
<tr><td>Labels</td><td>This item enables or disables edge labels. When this option is enabled, a label appears next to every connecting line in the graph, identifying the corresponding modulation type. This is only recommended for simple graphs, because otherwise the graph is hard to read.</td></tr>
<tr><td>Legend</td><td>This item enables or disables showing a legend that maps the @[graph edge colors\edge colors] in use to their corresponding modulation types.</td></tr>
<tr><td>Save As</td><td>This item saves the current graph to a file. Currently the only supported format is SVG.</td></tr>
<tr><td>Reload</td><td>This item redraws the graph.</td></tr>
</table>

@item Graph edge colors

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Color</th><th>Modulation Type</th></tr>
<tr><td>Black</td><td>@[mute modulation\Mute]</td></tr>
<tr><td>Red</td><td>@[note modulation\Note]</td></tr>
<tr><td>Green</td><td>@[velocity modulation\Velocity]</td></tr>
<tr><td>Blue</td><td>@[duration modulation\Duration]</td></tr>
<tr><td>Dark Cyan</td><td>@[range modulation\Range]</td></tr>
<tr><td>Magenta</td><td>@[position modulation\Position]</td></tr>
<tr><td>Brown</td><td>@[tempo modulation\Tempo]</td></tr>
<tr><td>Purple</td><td>@[scale modulation\Scale]</td></tr>
<tr><td>Dark Green</td><td>@[chord modulation\Chord]</td></tr>
<tr><td>Olive</td><td>@[index modulation\Index]</td></tr>
<tr><td>Orange</td><td>@[voicing modulation\Voicing]</td></tr>
<tr><td>Turquoise</td><td>@[offset modulation\Offset]</td></tr>
</table>

@topic Phase bar\Phase

This @[docking windows\docking window] shows an animated diagram that helps you visualize the phase relationships between your @[tracks]. The diagram consists of a series of concentric circles, each of which corresponds to a unique loop @[period] in @[ticks]. Loop period is the product of a track's @[track length\Length] and @[track quant\Quant]. The periods are sorted so that the innermost circle corresponds to the shortest period, and the outermost circle to the longest period. An animated dot moves along each circular path, representing the phase, in other words the current position within the corresponding period. The representation is analogous to a planetary system, with the dots as planets and the circles indicating their orbits. 

Multiple tracks having the same period are coalesced into a single orbit because they all share the same phase. If all of the tracks have the same period, only one orbit is shown. The diagram makes it easier to visualize @[convergences].  When two or more planets are shown at zero degrees (noon), the corresponding periods converge. All periods converge at the start of the first beat of the first measure. Subsequent convergences may be located using @[Time to Repeat], the @[Convergences calculator], or the @[Next Convergence] and @[Previous Convergence] commands.

The diagram also indicates @[track selection] if any. Since each orbit can represent multiple tracks, the orbit is highlighted if any of the tracks it represents is selected. It's also possible to select tracks by left-clicking within the diagram, as explained below:

<ul>
<li>To select a single orbit, left-click it. This selects only loops having the corresponding period.
<li>To select a range of adjacent orbits, left-click the first orbit, and then left-click the last orbit while pressing the @{key}Shift@} key.
<li>To toggle the selection of an orbit, left-click it while pressing the @{key}Ctrl@} key.
<li>To deselect all orbits, left-click on the diagram's background, outside the outermost orbit.
</ul>

If you hover the pointer over an orbit, after a short delay, a tooltip is shown containing the corresponding Length and Quant.

@item Exporting phase video\Exporting video

The phase visualization can be exported as a series of frames in sequentially numbered PNG files. The resulting image sequence can then be converted to a video using <a href="http://ffmpeg.org">ffmpeg</a> or an equivalent program. To start exporting, select @{cmd}Export Video@} from the phase bar's @[phase bar context menu\context menu]. This command is only available while playback of the document is @[play\stopped].

The command first displays a folder dialog, prompting you to select a destination folder for the image sequence. The export typically creates many files, so it's advisable to store them in their own folder. The dialog permits you to create a new folder if needed. Press OK to continue.

The command then displays a record dialog that lets you specify the duration of the recording, the frame rate and the frame size. The duration can be specified in either hh:mm:ss time or in frames. Press OK to start exporting frames. During the export, a progress bar is displayed.

This command can potentially consume a large amount of disk space. You're responsible for ensuring that sufficient space exists. If the destination folder already contains an image sequence from a previous run of this export, you'll be warned. If you proceed anyway, the previous image sequence is overwritten.

@item Phase bar context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Item</th><th>Description</th></tr>
<tr><td>Export Video</td><td>Exports video of the animated diagram as an image sequence; see @[Exporting phase video\above].</td></tr>
<tr><td>Circular Orbits</td><td>If checked, the orbits are circular, otherwise the orbits are elliptical with the same aspect ratio as the window.</td></tr>
<tr><td>3D Planets</td><td>If checked, the planets are drawn in 3D instead of 2D.</td></tr>
<tr><td>Night Sky</td><td>If checked, the background is dark instead of light.</td></tr>
<tr><td>Crosshairs</td><td>If checked, the diagram includes crosshairs.</td></tr>
<tr><td>Periods</td><td>If checked, the diagram includes labels that specify each orbit's @[period] in @[ticks]. This option increases overhead.</td></tr>
<tr><td>Convergences</td><td>If checked, the diagram indicates @[convergences] slightly before and after they occur. The participating orbits are increasingly highlighted as the convergence approaches, and gradually return to normal as the convergence recedes. To specify the minimum number of orbits that must participate in a convergence, use the @[Convergence Size] options on the Transport menu. To skip lesser convergences, increase the size. If orbits are selected, only those orbits participate in convergences.</td></tr>
<tr><td>Full Screen</td><td>Makes the Phase bar enter full screen mode, or if it's already full screen, restores it to its previous size and position. In full screen mode, the diagram is shown without borders and fills the entire monitor. To make the bar fill a secondary monitor, drag the bar onto that monitor before making it full-screen. You can also exit full screen mode by pressing the @{key}Escape@} key, but you may need to left-click the diagram first to give it input focus.</td></tr>
</table>

@topic Step Values bar\Step Values

This @[docking windows\docking window] lets you edit step values numerically, using a @[grid controls\grid control]. In some cases this may be more convenient than dragging velocity bars in the @[Velocities pane]. It's particularly useful for editing @[note modulation\note modulator] tracks and similar cases.

Step values are shown for the @[track selection\selected tracks] only. Note that selecting a large number of tracks at once may cause the Step Values window to perform poorly. It's recommended to hide the Step Values window when it's not needed.

@item Step values display formats\Display formats

Various display formats can be selected using the window's @[Step values context menu\context menu]. If Signed is enabled, the steps are interpreted as @[unsigned versus signed steps\signed] values from &minus;64 to +64, otherwise they're considered unsigned values. If Notes is enabled, the steps are displayed as notes, with or without octave information, depending on whether Octaves is enabled. If Ties is enabled, the @[tied notes\tied note] bit (the MSB) is included, otherwise it's masked off; this is an advanced feature, as is Hexadecimal display.

@item Step values context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Item</th><th>Description</th></tr>
<tr><td>Format</td><td>This submenu lets you select a @[step values display formats\display format].</td></tr>
<tr><td>Cut</td><td>Deletes the selected steps after copying them to the @[clipboards\clipboard].</td></tr>
<tr><td>Copy</td><td>Copies the selected steps to the clipboard.</td></tr>
<tr><td>Paste</td><td>Inserts the contents of the steps clipboard at the current position.</td></tr>
<tr><td>Insert</td><td>Inserts a new step.</td></tr>
<tr><td>Delete</td><td>Deletes the selected steps.</td></tr>
<tr><td>Select All</td><td>Selects all steps.</td></tr>
<tr><td>Export</td><td>Exports the steps as text to the system clipboard.</td></tr>
<tr><td>Options</td><td>Configures the export. You can choose Columns = Steps versus Columns = Tracks, and Comma Delimited (CSV) versus Tab Delimited.</td></tr>
</table>

@topic Mapping bar\Mapping

This @[docking windows\docking window] lets you edit your @[mappings]. Mappings can be inserted, revised, deleted, copied, cut, pasted, and reordered via dragging. Mappings can also be sorted by left-clicking the appropriate item within the column header. To sort in descending order, press the @{key}Shift@} key while left-clicking.

The mappings are displayed in a @[grid controls\grid control]. Each mapping consists of input and output event properties, an output range, and a target track. The input properties include the input event type (note on, control, etc.), the input MIDI channel, and the note or control number if appropriate. Input properties can be entered manually, or @[learning mappings\learned] from the MIDI input.

The output properties start with the @[output event types\output event type], which may be either a MIDI message (note on, control, etc.) or a target property. If the output event is a MIDI message, the mapping is a translation, in which case the output MIDI channel and the note/control number are also relevant. Otherwise, the mapping targets a property, in which case the output MIDI channel is irrelevant, the output control may not matter either, and a target track may be required.

To map a MIDI message to the same property in multiple tracks, create multiple mappings, one for each target track. It's easiest to do this via copy and paste: create a mapping for one of the tracks first, and when it's set up correctly, clone it as many times as needed, and finally edit the copies to target different tracks.

The output range (start value and end value) allow the input MIDI data to be shifted or scaled to any integer range. If the start is bigger than the end, the control direction is reversed, in which case turning the knob up makes the value smaller.

@item Mapping columns

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Input Event</td><td>The type of input MIDI event being mapped; these are all MIDI channel messages.</td></tr>
<tr><td>Input Event</td><td>The MIDI channel on which to listen for the input event.</td></tr>
<tr><td>Input Control</td><td>The parameter that further specifies the input event. For Note On and Key Aftertouch events, it's the note number, for Control events it's the controller number, and for other input event types it's ignored.</td></tr>
<tr><td>Output Event</td><td>The @[output event types\type] of output event that's being mapped to. For translations, these are MIDI channel messages, otherwise they're properties.</td></tr>
<tr><td>Output Channel</td><td>The MIDI channel of the output event. This is only applicable for translations.</td></tr>
<tr><td>Output Control</td><td>The parameter associated with the output event. This is only applicable for certain event types; see below.</td></tr>
<tr><td>Range Start</td><td>The starting value of the output range.</td></tr>
<tr><td>Range End</td><td>The ending value of the output range.</td></tr>
<tr><td>Track</td><td>The target track. This is only applicable when mapping to track properties.</td></tr>
</table>

@item Output event types

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th colspan=4>Translations</th></tr>
<tr><th>Output Event</th><th>Output Control</th><th>Track</th><th>Comment</th></tr>
<tr><td>Note On</td><td>Note number</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><td>Key Aftertouch</td><td>Note number</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><td>Control</td><td>Controller number</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><td>Patch</td><td>N/A</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><td>Channel Aftertouch</td><td>N/A</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><td>Wheel</td><td>N/A</td><td>N/A</td><td>Output channel matters</td></tr>
<tr><th colspan=4>Mappings</th></tr>
<tr><td>@[track type\Type]</td><td>N/A</td><td>Required</td><td>Enumeration</td></tr>
<tr><td>@[track channel\Channel]</td><td>N/A</td><td>Required</td><td>Zero-based, from 0 to 15</td></tr>
<tr><td>@[track note\Note]</td><td>N/A</td><td>Required</td><td>In semitones</td></tr>
<tr><td>@[track length\Length]</td><td>N/A</td><td>Required</td><td>In steps</td></tr>
<tr><td>@[track quant\Quant]</td><td>N/A</td><td>Required</td><td>In ticks</td></tr>
<tr><td>@[track offset\Offset]</td><td>N/A</td><td>Required</td><td>Signed offset in ticks</td></tr>
<tr><td>@[track swing\Swing]</td><td>N/A</td><td>Required</td><td>Signed offset in ticks</td></tr>
<tr><td>@[track velocity\Velocity]</td><td>N/A</td><td>Required</td><td>Signed offset in velocity</td></tr>
<tr><td>@[track duration\Duration]</td><td>N/A</td><td>Required</td><td>Signed offset in ticks</td></tr>
<tr><td>@[track range type\Range Type]</td><td>N/A</td><td>Required</td><td>Enumeration</td></tr>
<tr><td>@[track range start\Range Start]</td><td>N/A</td><td>Required</td><td>In semitones</td></tr>
<tr><td>@[track mutes\Mute]</td><td>N/A</td><td>Required</td><td>Non-zero to mute track</td></tr>
<tr><td>@[track steps\Step]</td><td>Step Index</td><td>Required</td><td>Event data is step value</td></tr>
<tr><td>@[presets bar\Presets]</td><td>N/A</td><td>N/A</td><td>Event data is preset index</td></tr>
<tr><td>@[parts bar\Parts]</td><td>Part Index</td><td>N/A</td><td>Non-zero to activate part</td></tr>
<tr><td>@[Play]</td><td>N/A</td><td>N/A</td><td>Non-zero to play</td></tr>
<tr><td>@[Pause]</td><td>N/A</td><td>N/A</td><td>Non-zero to pause</td></tr>
<tr><td>@[Record]</td><td>N/A</td><td>N/A</td><td>Non-zero to record</td></tr>
<tr><td>@[Loop]</td><td>N/A</td><td>N/A</td><td>Non-zero to loop</td></tr>
</table>

@item Learning mappings

The application also supports @[MIDI learn] mode, i.e. the input messages can be learned from the MIDI input device. To do this, select a mapping in the Mapping window, and then enable learn mode via @{cmd}Tools/MIDI Learn@}, or via the keyboard shortcut @{key}Ctrl+Shift+L@}, or via the Mapping window's @[Mapping context menu\context menu]. The background color of the selected mapping changes to green, indicating that this mapping will be learned. Now move the associated knob on the MIDI input device, and the mapping's input properties will snap to the appropriate values for that knob. To learn other mappings, select each mapping one at a time and move its associated knob. To learn multiple mappings at once, select them all and move the knob that you want to assign to all of them. After all mappings have been learned, disable MIDI learn mode.

@item Mapping context menu\Context menu

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Insert</td><td>Inserts a new mapping at the current position</td></tr>
<tr><td>Delete</td><td>Deletes the selected mappings</td></tr>
<tr><td>Cut</td><td>Deletes the selected mappings after copying them to the @[clipboards\clipboard]</td></tr>
<tr><td>Copy</td><td>Copies the selected mappings to the clipboard</td></tr>
<tr><td>Paste</td><td>Inserts the contents of the mapping clipboard at the current position</td></tr>
<tr><td>Select All</td><td>Selects all mappings</td></tr>
<tr><td>Learn</td><td>Toggles MIDI Learn mode</td></tr>
<tr><td>Map Tracks</td><td>Creates mappings for the selected @[tracks]</td></tr>
</table>

@endchapter

@chapter Properties

@topic Tempo

This is the playback tempo, in beats per minute. The document is @[play\played] at this tempo, unless this base tempo is modified by a @[tempo tracks\tempo track]. The tempo can be changed at any time, including during playback. Changing the tempo may change the current time shown in the @[status bar]. To change the tempo, left-click it, edit the value or type a new one, and press @{key}Enter@} or @{key}Tab@}, or left-click elsewhere. To increment or decrement the tempo, use the arrow buttons that appear when you left-click the tempo. For more information on editing, see the @[Properties bar]. Fractional tempos are permitted.

Tempo is normally expressed as a frequency, but it can also be expressed as a @[period], in other words how long each beat takes in seconds. To compute the period, divide 60 by the tempo. For example, at 120 beats per minute, each beat takes half a second, because 60 / 120 = &frac12;.

@topic Timebase

This is the time division, also known as the timebase, in @[ticks] per quarter note (TPQN). It relates <em>ticks</em>, which are the smallest unit of time in MIDI, to <em>beats</em>, which are quarter notes. In other words, it specifies the number of ticks in a beat, and thereby determines the precision with which time can be represented. A range of predefined @[timebase values] are supported. At the default timebase of 120, a beat has 120 ticks. For a list of common note durations in ticks when using the default timebase, see @[track quant\Quant].

The default timebase is recommended. Larger timebase values improve timing precision, but they also reduce the range of @[duration modulation\duration] and @[offset modulation\offset] modulation. That's because these modulation types interpret track @[steps] as time offsets in ticks, and since the range of a step is finite, the larger the timebase, the less impact such time offsets have.

The timebase can't be changed during @[play\playback], and only one timebase can be used within any given document. Changing the timebase of an existing document causes all settings in ticks to be scaled, so that their values remain proportionally similar in the new timebase. Specifically track Quant, @[track offset\Offset], @[track swing\Swing], and @[track duration\Duration] are all scaled, along with the times of any @[dubs]. The scaling is only guaranteed to be exact if the new timebase is an integer multiple of the current one, otherwise it's approximate and may cause loss of precision.

@item Timebase values

This table lists the supported timebase values, all of which are multiples of 24 to ensure compatibility with @[Send MIDI clock\MIDI clock] synchronization. The table also shows the Greatest Prime Factor (GPF) for each timebase, in other words the largest @[primes\prime] number each timebase is evenly divisible by, which is useful information if you want to use odd subdivisions of a beat.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Ticks</th><th>GPF</th></tr>
<tr><td>24</td><td>3</td></tr>
<tr><td>48</td><td>3</td></tr>
<tr><td>72</td><td>3</td></tr>
<tr><td>96</td><td>3</td></tr>
<tr><td>120</td><td>5</td></tr>
<tr><td>144</td><td>3</td></tr>
<tr><td>168</td><td>7</td></tr>
<tr><td>192</td><td>3</td></tr>
<tr><td>216</td><td>3</td></tr>
<tr><td>240</td><td>5</td></tr>	
<tr><td>288</td><td>3</td></tr>
<tr><td>336</td><td>7</td></tr>
<tr><td>360</td><td>5</td></tr>
<tr><td>384</td><td>3</td></tr>
<tr><td>480</td><td>5</td></tr>
<tr><td>504</td><td>7</td></tr>
<tr><td>672</td><td>7</td></tr>
<tr><td>768</td><td>3</td></tr>
<tr><td>840</td><td>7</td></tr>
<tr><td>960</td><td>5</td></tr>
</table>

@topic Meter

This is the number of beats in a measure. It determines how @[song position\song positions] are displayed throughout the application. If meter is one, song positions are displayed as beats and @[ticks], whereas if meter is greater than one, song positions are displayed as measures, beats and ticks (also known as MBT). Meter is one by default, and can't be less than one. Meter is purely cosmetic, in the sense that changing it has no effect on the application's MIDI output. Meter affects how the current position is displayed in the @[status bar], and also affects the display of @[Start Position], @[Loop From], and @[Loop To].

Since @[polymeter] is the use of multiple meters at once, it might seem pointless to specify a meter, but it can still be useful to change how song positions are displayed, particularly if your composition emphasizes one meter more than others.

@item Song position

A song position is a location within the output MIDI sequence. Song positions are maintained internally in @[ticks], but they're displayed either as beats and ticks, or as measures, beats and ticks (also known as MBT), depending on the @[Meter] property. Ticks are zero-based, whereas both beats and measures are one-based, hence a song position of zero ticks is displayed as 1:000 if meter is one, or 1:1:000 if meter is greater than one.

Song positions are unaffected by the @[tempo]. However if a song position is converted to a time, the resulting time does depend on the tempo. The @[status bar] shows the current position in both measures, beats, and ticks on the left, and time on the right.

The following table shows the effect of some common meters on various positions in ticks, assuming the default @[timebase] of 120 ticks per beat. The asymmetry in how negative positions are displayed is due to measures and beats being one-based.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>&nbsp;</th><th colspan=3>Meter</th></tr>
<tr><th>Ticks</th><th>1</th><th>3</th><th>4</th></tr>
<tr align=right><td>480</td><td>5:000</td><td>2:2:000</td><td>2:1:000</td></tr>
<tr align=right><td>360</td><td>4:000</td><td>2:1:000</td><td>1:4:000</td></tr>
<tr align=right><td>240</td><td>3:000</td><td>1:3:000</td><td>1:3:000</td></tr>
<tr align=right><td>120</td><td>2:000</td><td>1:2:000</td><td>1:2:000</td></tr>
<tr align=right><td>0</td><td>1:000</td><td>1:1:000</td><td>1:1:000</td></tr>
<tr align=right><td>&minus;120</td><td>0:000</td><td>0:3:000</td><td>0:4:000</td></tr>
<tr align=right><td>&minus;240</td><td>&minus;1:000</td><td>0:2:000</td><td>0:3:000</td></tr>
<tr align=right><td>&minus;360</td><td>&minus;2:000</td><td>0:1:000</td><td>0:2:000</td></tr>
<tr align=right><td>&minus;480</td><td>&minus;3:000</td><td>&minus;1:3:000</td><td>0:1:000</td></tr>
</table>

@topic Key Signature

This is the key in which notes are displayed throughout the application. It determines which notes are displayed as sharps rather than flats. The key signature is purely cosmetic, in the sense that changing it has no effect on the application's MIDI output.

@topic Song Length

This is the song duration, in hh:mm:ss format. It determines the maximum horizontal scroll position in @[song view]. Stopping a @[record\recording] sets the song length automatically, to the time when recording was stopped.

@topic Start Position

This is the @[song position\position] at which the song starts. It determines the @[Song view]'s left margin, and the @[Rewind] command's destination. It's displayed either in beats and @[ticks], or in measures, beats and ticks, depending on the @[Meter] property. 

Negative start positions are allowed, and this may be useful because a full @[convergences\convergence] is guaranteed at position zero (1:000). By starting at a negative time, you effectively move this initial convergence to later in your song.

@topic Note Overlap

This property specifies how to handle overlapping instances of the same note on the same MIDI channel. If overlapping instances are allowed, the output device may release the later note prematurely, or the overlapped portion may exhibit acoustic artifacts such as flanging. To prevent overlapping instances, set this property to "Prevent". Preventing note overlaps is strongly recommended if @[position modulation] or @[offset modulation] are used.

For example, suppose overlapping instances of the same note on the same channel occur as follows:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Time</th><th>Event</th></tr>
<tr><td>1:000</td><td>first instance on</td></tr>
<tr><td>2:000</td><td>second instance on</td></tr>
<tr><td>3:000</td><td>first instance off</td></tr>
<tr><td>4:000</td><td>second instance off</td></tr>
</table>

In this case, the note will likely be cut off at 3:000, in other words the second instance is aborted. Preventing note overlaps results in the following output:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Time</th><th>Event</th></tr>
<tr><td>1:000</td><td>note on</td></tr>
<tr><td>2:000</td><td>note off, note on again</td></tr>
<tr><td>4:000</td><td>note off</td></tr>
</table>

@topic Record Offset

This offset is added to the times of recorded MIDI events during playback. It's specified in @[ticks]. It allows you compensate for latency during recording, by playing recorded MIDI events later (positive offset) or earlier (negative offset), relative to the playback of @[tracks]. For details, see @[Recording MIDI Input].

@topic Loop From

If playback is @[loop\looped], this is the starting position of the loop. It's displayed either in beats and @[ticks], or in measures, beats and ticks, depending on the @[Meter] property. The ending position is given by the @[Loop To] property. The starting position must be less than the ending position, otherwise no looping occurs.

Instead of entering the loop positions numerically, you can alternatively create a @[step selection] before using the Loop command. In that case the step selection's first and last steps determine the loop's starting and ending positions respectively.

@topic Loop To

If playback is @[loop\looped], this is the ending position of the loop. For more information, see @[Loop From].

@endchapter

@chapter Options

@chapter MIDI

@topic Input Device

This is the currently selected MIDI input device. Only one input device can be used at a time. The application doesn't require an input device, except for a few supplemental features such as @[mappings\MIDI mapping] and @[Record Tracks].

@topic Output Device

This is the currently selected MIDI output device. Only one output device can be used at a time. The application requires an output device in order to play the sequence, and if one isn't selected, @[play\playback] is disabled. The default output device is the GS Wavetable Synth that ships with Windows.

The output device can be hardware, such as a MIDI-capable synthesizer or drum machine. Some hardware instruments connect directly to your computer via USB, whereas others require a MIDI interface. In either case you may need to install driver software, depending on the device. Multiple devices can be controlled, either by daisy-chaining them together, or via specialized MIDI hardware.

Alternatively the output device can be software, such as a software synthesizer or Digital Audio Workstation (DAW). The audio software may create one or more MIDI ports that appear in Polymeter's list of output devices, but if not, you'll need to install a virtual MIDI port, such as Tobias Erichsen's loopMIDI.

@topic Latency

This is the desired MIDI latency during @[play\playback], in milliseconds. The shorter the latency is, the less the user interface lags behind playback, and the closer the application is to being in real time. On the other hand, the shorter the latency is, the more often the application runs, and the less time it has to do its work. For example if the latency is 10, the application has at most 10 milliseconds to prepare each chunk of the sequence for output. If the latency is too short, @[underruns] may occur. Underruns can't occur in exported MIDI files because the @[export] can take as long as it needs.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Issue</th><th>Symptoms</th></tr>
<tr><td>Latency too short</td><td>Underrun errors; erratic timing of output MIDI messages; audible gaps in sequence</td></tr>
<tr><td>Latency too long</td><td>User interface lags behind playback; delay between your actions and their effects</td></tr>
</table>

@item Underruns

During @[play\playback], the MIDI sequence is prepared ahead of time in chunks. The length of the chunks is determined by the @[Latency] setting. Ideally the application prepares the next chunk while the previous chunk is being played, and thus stays ahead of demand. However if a chunk takes too long to prepare, the previous chunk may run out before the next chunk can be delivered. This situation is called an <em>underrun</em>.

An underrun means that the sequencer took too long and failed to keep up. It can occur because the sequence is too dense, or the latency is too short, or CPU power is lacking, or the output device is too slow, or any combination of these. An underrun can affect the timing of the output MIDI messages, and in extreme cases may cause an audible gap in the sequence. If it's the first underrun since playback started, an error message is displayed. Subsequent underruns are @[statistics\counted], but the error message is suppressed. To solve underrun errors, do one or more of the following:
<ul>
<li>Make your sequence less dense. For example you may be sending continuous controller messages more often than necessary.
<li>Increase the latency. This has the downside of making the user interface lag further behind the playback.
<li>Eliminate competing applications so that more CPU power is available, or use a more powerful computer.
<li>Use faster output devices, or faster connections to them.
</ul>

If you're using MIDI hardware, be advised that a serial MIDI interface is limited to roughly a thousand MIDI messages per second, and approaching this limit may cause underrun errors. This is less likely to be a problem if the hardware is connected to the computer via USB, or if the output device is a software synth or virtual MIDI port.

@topic Buffer Size

This is the size of the output MIDI event buffer, in bytes. If the error "MIDI event buffer size exceeded" occurs during @[play\playback], try increasing this size. Decreasing it is not recommended.

@topic Thru

If true, MIDI input received from the @[input device] is passed through to the @[output device]. This lets you play along with your sequence. Any MIDI messages that are @[mappings\mapped] aren't passed through.

@topic Default Velocity

This is the default note velocity or controller value for new @[steps].

@topic Input Quantization

This is the quantization for converting MIDI input to steps. It's used when @[import\importing] a MIDI file, and also by the @[Record Tracks] command.

@topic Record Input

This determines what types of data are captured by the @[Record] command. The options are as follows:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Dubs only</td><td>Only mute/unmute events, also known as @[dubs], are recorded.</td></tr>
<tr><td>Dubs + MIDI</td><td>Both dubs and MIDI data received from the @[input device] are recorded.</td></tr>
<tr><td>MIDI only</td><td>Only MIDI data received from the input device is recorded.</td></tr>
</table>

For more information, see @[Recording MIDI Input].

@topic Send MIDI Clock

If true, MIDI synchronization messages are transmitted to the @[output device]. If you want the output device to synchronize itself with the application, set this option to true. The output device must support MIDI clock sync for this to work.

@endchapter

@chapter View

@topic Update Frequency

This is the frequency at which the view is updated during playback, in Hertz (updates per second). It specifies the desired frame rate, but the actual frame rate may differ, depending on your hardware's capabilities. Windows that track @[song position] may animate more smoothly if you increase the frame rate, but CPU and/or GPU usage may also increase, so proceed cautiously.

@topic Show Current Position

If true, the current position within each track is indicated visually in the @[Track Steps] area.

@topic Show Note Names

If true, notes are displayed as names instead of numbers, for example C4 instead of 60.

@topic Show General MIDI Names

If true, General MIDI patch and drum names are displayed instead of numbers. Patch names are shown in the @[Channels bar]. Drum names are shown in the @[Track Note\note] column of the @[Track View], but only for tracks that output on channel 10.

@topic Show Track Colors

If true, tracks can be assigned custom colors, using the @[Color\Track Color] command on the @[toolbar].

@topic Unique Track Names

If true, when renaming multiple tracks in the @[track grid], sequential numbers are appended to the track names as necessary in order to keep them unique.

@topic Zoom Step

This is the zoom step size, as a percentage. It only applies to zooming the @[Track View].

@topic Live View Font Height

This is the height of the @[Live View] font, in pixels. Making the font smaller fits more rows in the live view's lists of presets and tracks, which may let you avoid scrolling the lists, at the cost of making them harder to read. Another way to avoid scrolling is by grouping related tracks into @[parts].

@endchapter

@chapter General

@topic Show Property Descriptions

If true, descriptions are shown in the @[Properties bar].

@topic Automatically Check for Updates
 
This option determines whether Polymeter automatically checks for updates when it launches. If a newer version is available, you will be prompted with the message "A newer version of Polymeter is available. Do you want to download and install it?" The options are as follows:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Yes</td><td>Download and install</td><td>The newer version is downloaded and installed.</td></tr>
<tr><td>No</td><td>Skip this version</td><td>The newer version is NOT downloaded, and no further notifications are given <em>for this version</em>, though you'll continue to be notified of subsequent versions.</td></tr>
<tr><td>Later</td><td>Defer the update</td><td>The newer version is NOT downloaded, but you'll be notified about it again the next time you launch Polymeter.</td></tr>
</table>

@topic Always Record

If true, @[dubs] are always recorded during playback, and the resultant recordings are saved automatically. Enabling this option prevents data loss due to forgetting to press @[Record]. The recordings are stored in the current user's profile, and named using a combination of the document title and the current date and time. For a user named foo, the destination folder would typically be:

C:\Users\foo\AppData\Roaming\Polymeter

@endchapter

@endchapter

@chapter Menus

@chapter File

@topic New

Use this command to create a new Polymeter document. To open an existing document, use @[Open] instead.

@topic Open

Use this command to open an existing Polymeter document. A document can also be opened by drag/drop from Windows Explorer, or by specifying the document's path on the command line.

@topic Close

Use this command to close the active document. If the document has been modified, you'll be prompted to save your changes.

@topic Save

Use this command to save the active document to its current name and directory. If you want to change the name or directory of an existing document before you save it, use @[Save As] instead.

@topic Save As

Use this command to save and name the active document.

@topic Export

This command exports the current document as a type 1 MIDI file, containing at most 17 tracks. The first track is reserved for the tempo map, and it's followed by one track for each MIDI channel that's utilized in the document. If the document contains song @[dubs], they're applied, otherwise the unmuted tracks are looped until the specified duration is reached.

For each MIDI channel, all Polymeter @[tracks] that output to that channel are merged into a single MIDI file track. The resulting MIDI file track gets its name from the first Polymeter track that contributed to it. If no Polymeter tracks output to the channel, the corresponding track is omitted from the MIDI file to save space.

The command displays a dialog that prompts you to choose the name and location of the destination file. After you press OK to continue, another dialog prompts you for the export duration in hours, minutes and seconds. For @[songs], the export duration defaults to the current @[song length], otherwise it defaults to its previous value.

The document can also be @[export song\exported as a table], which can be useful for debugging.

@topic Import

This command imports a MIDI file into the current document. Only channel messages&mdash;notes, continuous controllers, pitch bends, etc.&mdash;are imported. Message times are quantized according to the current @[Input Quantization] setting. Each unique combination of MIDI message type, channel, and note or controller number (if applicable) produces a separate @[tracks\track].

@topic Exit

Use this command to end your Polymeter session. You can also use the Close command on the application Control menu. Polymeter prompts you to @[save] documents with unsaved changes.

@endchapter

@chapter Edit

@topic Standard editing commands

The commands for inserting, deleting, and moving data via the @[clipboards\clipboard] are common to most applications. They're available from the Edit menu and certain context menus, and in some cases also from the @[toolbar].

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Command</th><th>Shortcut</th><th>Effect</th></tr>
<tr><td>@[Cut]</td><td>Ctrl+X or Shift+Delete</td><td>Copies the selection to the clipboard and then deletes it</td></tr>
<tr><td>@[Copy]</td><td>Ctrl+C or Ctrl+Insert</td><td>Copies the selection to the clipboard</td></tr>
<tr><td>@[Paste]</td><td>Ctrl+V or Shift+Insert</td><td>Inserts the contents of the clipboard</td></tr>
<tr><td>@[Insert]</td><td>Insert</td><td>Inserts a new item </td></tr>
<tr><td>@[Delete]</td><td>Delete</td><td>Deletes the selection</td></tr>
<tr><td>@[Select All]</td><td>Ctrl+A</td><td>Selects all items</td></tr>
</table>

These commands are supported by the @[Track view], @[Song view], @[Modulations bar], @[Mapping bar], and @[Step Values bar]. They're also supported within any text edit control, excepting the Insert command. If more than one of these targets is visible, the standard editing commands affect whichever one currently has the input focus.

Within the track view, if a @[step selection] exists, it takes priority over the @[track selection]. In other words, if both tracks and steps are selected, the editing commands operate on the selected steps. The song view works similarly.

@item Clipboards

The Polymeter application doesn't use the Windows clipboard, except for text. Instead, Polymeter has internal clipboards for each of the following types of data: @[tracks], @[steps], @[dubs], @[modulations], and @[mappings]. These clipboards are only accessible within the instance of Polymeter that created them, hence they don't support copying data to other applications or other instances of Polymeter, nor do they persist after Polymeter exits. This shouldn't be a problem since Polymeter is an MDI (Multiple Document Interface) application, meaning it allows multiple documents to be opened at once. To move data between two Polymeter documents via clipboard, open both documents within a single instance of Polymeter.

The behavior of Cut/Copy/Paste is slightly non-standard due to each supported data type having its own clipboard. For example, if you copy some tracks, and then copy some steps, the steps don't replace the tracks, as would normally be the case if the Windows clipboard were used. Both the copied tracks and the copied steps are available for pasting in their respective views, because they're stored separately.

Certain types of data can also be moved between documents using tables, using the @[Export Table] and @[Import Table] commands, and such tables persist after Polymeter exits, unlike its clipboards.

@topic Undo

This command undoes the last action. Polymeter supports unlimited undo and @[redo].

@topic Redo

This command redoes the previously undone action. Polymeter supports unlimited @[undo] and redo.

@topic Cut

This command deletes the selection after copying it to the @[clipboards\clipboard].

@topic Copy

This command copies the selection to the @[clipboards\clipboard].

@topic Paste

This command inserts the contents of the @[clipboards\clipboard] at the current position.

@topic Insert

This command inserts a new item at the current position.

@topic Delete

This command deletes the selection.

@topic Select All

This command selects all items.

@topic Deselect

This command deselects all tracks.

@topic Rename

This command renames the selected items.

@topic Find

This command finds a string in the @[track name\track names].

@topic Replace

This command finds a string in the @[track name\track names], and replaces it with a different string.

@endchapter

@chapter View

@topic View Docking Windows\Docking Windows

This submenu lets you show or hide any of the @[Docking windows\docking windows].

@topic Status Bar

The status bar displays hints for the menus, and other status information, including the current @[song position\position] and time.

@topic Application Look

This submenu allows you to customize Polymeter's appearance. The different looks correspond to various versions of Windows.

@topic Zoom In

This command zooms into the center of the current view. It's supported by the @[Track View] and the @[Song View]. In both cases only the horizontal axis is zoomed. To zoom at a location other than the center, move the pointer to the desired location and spin the mouse wheel up while pressing the @{key}Ctrl@} key. The track view's @[zoom step] is adjustable.

@topic Zoom Out

This command zooms out of the center of the current view. It's supported by the @[Track View] and the @[Song View]. In both cases only the horizontal axis is zoomed. To zoom at a location other than the center, move the pointer to the desired location and spin the mouse wheel down while pressing the @{key}Ctrl@} key. The track view's @[zoom step] is adjustable.

@topic Zoom Reset

This command resets the current view's zoom to its default.

@topic Show Properties\Properties

This command shows or hides the @[Properties bar].

@topic Show Channels\Channels

This command shows or hides the @[Channels bar].

@topic Show Modulations\Modulations

This command shows or hides the @[Modulations bar].

@topic Groups

This submenu contains commands to show or hide windows associated with groups, such as @[presets] and @[parts].

@item Show Presets\Presets

This command shows or hides the @[Presets bar].

@item Show Parts\Parts

This command shows or hides the @[Parts bar].

@topic Show Velocities\Velocities

This command shows or hides the @[Velocities pane] within the @[Track View].

@topic Show Track View\Track

This command shows the @[Track View].

@topic Show Song View\Song

This command shows the @[Song View].

@topic Show Live View\Live

This command shows the @[Live View].

@topic Customize

This command lets you customize your toolbars, menus, and keyboard shortcuts. It displays a tabbed dialog. The various tabs are explained below.

@item Customize Commands\Commands tab

This tab contains commands that you can drag onto your menus and toolbars. It allows you to add commands and modify existing commands on the Menu bar or any toolbar. For detailed instructions, see the @[Customize Menu\Menu tab].

The commands are categorized by which menu they belong to. To see the commands for a particular menu, select that menu in the <b>Categories</b> list box. To see all the available commands, select <b>All Commands</b>.

You can also select <b>New Menu</b>, which allows you to drag a new submenu onto the menu you're customizing. After you've created the submenu, you can drag commands onto it. To rename the submenu, right-click its name, and in the resulting context menu, select <b>Button Appearance</b>; in the resulting dialog, type the new name in the <b>Button Text</b> edit box. To give the name a mnemonic, insert an ampersand before the character that should be the mnemonic.

@item Customize Toolbars\Toolbars tab

This tab allows you to create, rename, delete, and reset your toolbars. The following table describes the tab options.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Option</th><th>Description</th></tr>
<tr><td>Toolbars listbox</td><td>Displays the toolbars built into the application and any toolbars you create. When you show a toolbar, a check mark appears to the left of it. NOTE: The Menu Bar cannot be hidden. It can only be reset.</td></tr>
<tr><td>Reset</td><td>Removes any changes to the built-in toolbars and resets them to their original state. Only available if you select a built-in toolbar.</td></tr>
<tr><td>Reset All</td><td>Resets all built-in toolbars and menus to their original state.</td></tr>
<tr><td>New</td><td>Opens the New Toolbar dialog box where you type the name for your new toolbar in the Toolbar name box.</td></tr>
<tr><td>Rename</td><td>Opens the Rename Toolbar dialog box where you type the new name for your toolbar. Only available if you select a user-defined toolbar.</td></tr>
<tr><td>Delete</td><td>Deletes a user-defined toolbar from your project. Only available if you select a user-defined toolbar.</td></tr>
</table>

@item Customize Keyboard\Keyboard tab

This tab allows you to customize keyboard shortcuts (also known as shortcut keys or keyboard accelerators) by assigning them to a command. You can also remove keyboard shortcuts. To assign or remove a keyboard shortcut:

<ol>
<li>In the <b>Categories</b> box, select the category that contains the command that you want to assign a keyboard shortcut to or remove a keyboard shortcut from.
<li>In the <b>Commands</b> box, select the name of the command that you want to assign a keyboard shortcut to or remove a keyboard shortcut from. Any keyboard shortcuts that are currently assigned to that command appear in the <b>Current keys</b> box, or below the box with the label <b>Assigned to</b>.
<li>To assign a keyboard shortcut do the following:
<ol type="a">
<li>Begin keyboard shortcuts with CTRL or a function key. In the <b>Press new shortcut key</b> box, press the combination of keys that you want to assign. For example, press CTRL plus the key that you want to use.
<li>Look at <b>Current keys</b> (or <b>Currently assigned to</b>) to see whether the combination of keys is already assigned to a command. If the combination is already assigned, type a different combination.
<li>Select <b>Assign</b>.
</ol>
<li>To remove a keyboard shortcut:
<ol type="a">
<li>In the <b>Current keys</b> box, select the keyboard shortcut that you want to remove.
<li>Select <b>Remove</b>.
</ol>
</ol>

@item Customize Menu\Menu tab

This tab allows you to change the appearance of the application frame menus and context menus. First select the menu you wish to customize.

<ul>
<li>For frame menus, use the <b>Show Menus for</b> drop list; in this case, you must also show the selected menu, by left-clicking it.
<li>For context menus, use the <b>Select Context menu</b> drop list; in this case, the selected context menu is shown automatically.
</ul>

Once you've selected and shown the menu, you can customize it as follows:

<ul>
<li>To move a command up or down within the menu, drag the command to the desired position.
<li>To remove a command from the menu, drag the command off of the menu.
<li>To add a command to the menu, first switch to the <b>Commands</b> tab. Then drag the desired command from the <b>Commands</b> list box onto the menu, and drop it at the desired position.
<li>To insert a separator, right click on the menu at the position where the separator should go, and in the resulting context menu, select <b>Start Group</b>.
<li>To change the text or appearance of a command, right-click it, and in the resulting context menu, select <b>Button Appearance</b>. This same context menu also lets you delete the command, hide the command's image if any, or reset the command to its default state.
<li>To reset the entire menu to its original state, press the appropriate <b>Reset</b> button in the <b>Menu</b> tab.
</ul>

The tab also lists animations you can apply to your menu bar, and lets you enable or disable menu shadows.

@item Customize Options\Options tab

This tab allows you to change the appearance of your menu bar and toolbars; for example, you can change the size of your toolbar buttons, and show ToolTips and shortcut keys. The following table describes the options.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Option</th><th>Description</th></tr>
<tr><td>Show ScreenTips on toolbars</td><td>Turns ScreenTips off and on.</td></tr>
<tr><td>Show shortcut keys in ScreenTips</td><td>Displays the shortcut keys on the menus.</td></tr>
<tr><td>Large icons</td><td>Changes the toolbar icons to a larger size.</td></tr>
</table>

@endchapter

@chapter Track

@topic Length

This command lets you set the @[Track length\length] of a track visually instead of numerically. To set the length of a track:

<ol>
<li>Indicate the desired length by hovering the cursor over the location where the last step should be.
<li>Set the new length via the @{cmd}Track/Length@} command or its shortcut @{key}Ctrl+L@}.
</ol>

Tracks can be shortened or lengthened using this method. If a @[track selection] exists, all of the selected tracks are set to the indicated length.

If the cursor isn't over the step view, the error message "Cursor must be over track step to indicate desired length" is displayed.

If a @[step selection] exists, it takes priority. In this case the track is shortened so the leftmost step of the step selection becomes the track's last step. If the step selection includes multiple tracks, they're all shortened.

<ol>
<li>Select the step that should be last. The step selection can span multiple tracks.
<li>Set the new length via the @{cmd}Track/Length@} command or its shortcut @{key}Ctrl+L@}.
</ol>

@topic Shift

These commands shift tracks left or right by some number of steps. Empty steps are shifted in as needed. Shifting is a lossy, destructive operation. Lossless shifting, also known as rotation, is also supported, via the @[rotate] commands.

If a @[step selection] exists, it takes priority. In this case only the selected steps are shifted. Otherwise the command operates on the @[track selection\selected tracks] in their entirety.

@item Shift Left

This command shifts tracks one step to the left. The leftmost step is lost, and an empty step is shifted in on the right to replace it.

@item Shift Right

This command shifts tracks one step to the right. The rightmost step is lost, and an empty step is shifted in on the left to replace it.

@item Shift Steps

This command shifts tracks by any amount. A dialog is displayed, prompting you for the desired shift in steps. The shift can be positive (right) or negative (left). After you press OK, the tracks are then shifted by the specified number of steps. Empty steps are shifted in as needed.

@topic Rotate

These commands rotate tracks left or right by some number of steps. Rotation is similar to shifting, except that steps wrap around instead of falling off one end. For example, rotating 1234 right by one step yields 4123, because the 4 wraps around to the left. Rotation is a lossless, non-destructive operation. Shifting is also supported, via the @[shift] commands.

If a @[step selection] exists, it takes priority. In this case only the selected steps are rotated. Otherwise the command operates on the @[track selection\selected tracks] in their entirety.

@item Rotate Left

This command rotates tracks one step to the left.

@item Rotate Right

This command rotates tracks one step to the right.

@item Rotate Steps

This command rotates tracks by any amount. A dialog is displayed, prompting you for the desired rotation in steps. The rotation can be positive (right) or negative (left). After you press OK, the tracks are then rotated by the specified number of steps.

@item Offset Tracks

This command adds a specified amount to the @[track offset] for the @[track selection\selected tracks]. A dialog is displayed, prompting you for the desired offset change, in @[ticks]. The change can be positive (later) or negative (earlier).

@topic Reverse

This command reverses tracks. The order of the steps is reversed, for example 1234 becomes 4321.

If a @[step selection] exists, it takes priority. In this case only the selected steps are reversed. Otherwise the command operates on the @[track selection\selected tracks] in their entirety.

@topic Invert

This command inverts tracks. Steps containing non-zero values are set to zero, and steps containing zero are set to the @[default velocity].

If a @[step selection] exists, it takes priority. In this case only the selected steps are inverted. Otherwise the command operates on the @[track selection\selected tracks] in their entirety.

@topic Tie Notes

This command toggles a variable that determines whether the @[steps] of a @[note tracks\note track] are initially @[tied notes\tied] or untied. When you left-click on an empty step, you may prefer the newly created note to be tied or untied, depending on the situation. If you're writing for an instrument that ignores note durations, as many drum machines do, you'll probably prefer notes to be untied by default. However if you're writing for a melodic instrument that respects note durations, you'll probably prefer notes to be tied by default. In either case you can achieve the opposite result by holding down the @{key}Shift@} key while left-clicking, as the following table shows:

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>&nbsp;</th><th>Tie Notes OFF</th><th>Tie Notes ON</th></tr>
<tr><th>left-click</th><td>Untied note</td><td>Tied note</td></tr>
<tr><th>Shift+left-click</th><td>Tied note</td><td>Untied note</td></tr>
</table>

The command is available both from the Track menu and the @[Toolbar]. Its icon resembles a flattened 'U', and if it's highlighted, Tie Notes is on, otherwise it's off. Only note tracks are affected by the Tie Notes state.

@topic Transpose

This command transposes the @[track selection\selected tracks]. A dialog is displayed, prompting you for the desired transposition in semitones. It can be positive or negative. After you press OK, this amount is added to the @[track note\note] for each track. For @[controller tracks], this command offsets the controller number. Tracks can also be transposed via @[note modulation].

@topic Velocity

This command changes the velocities of the selected @[tracks] or @[steps]. It has three functions: Offset, Scale and Replace. If a @[step selection] exists, it takes priority, and in this case only the selected steps are affected. Otherwise the command operates on the @[track selection\selected tracks]. The command supports all @[track types], even though they interpret step values differently. For @[note tracks], only notes that start within the step selection are affected. For all functions, the resulting values are @[clipping\clipped] so that they can't exceed the permissible range. If clipping is likely, a "Clipping may occur" warning message is displayed, giving you the opportunity to cancel or continue. The clipping check accounts for all velocity offsets including @[velocity modulation].

@item Offsetting velocities\Offset

Use this function to apply an offset, in other words to add or subtract a value from the velocities. The offset is a positive or negative integer. If a step selection exists, the specified offset is added to the selected steps. If a step selection doesn't exist, the "Apply to" setting determines how the offset affects the selected tracks: if it's "Tracks," the offset is added to their @[track velocity\velocity offsets], whereas if it's "Steps," the offset is added to their step values or note velocities.

@item Scaling velocities\Scale

Use this function to apply scaling, in other words to multiply the velocities by a value. The scale may be positive or negative, and may also be fractional. If a step selection exists, each selected step is multiplied by the specified scale, otherwise for each selected track, all of its step values are multiplied by the specified scale. If "Signed" is selected, the steps are interpreted as signed values ranging from &minus;64 to +63, otherwise they're interpreted as unsigned values ranging from 0 to 127.

@item Replacing velocities\Replace

Use this function to replace a particular step value with a different one. If a step selection exists, the replacement only occurs with the selected steps, otherwise it occurs within all steps of the selected tracks. The find and replace operation can operate on @[unsigned versus signed steps\signed or unsigned steps].

@topic Fill

This command fills a range of steps with a series of values. The series can be linear, or one of the supported periodic functions. Filling may be more convenient than editing the velocity bars in the @[velocities pane], particularly for periodic functions.

If a @[step selection] exists, it takes priority. In this case only the selected steps are filled. Otherwise the command fills all of the steps in the @[track selection\selected tracks].

@item Fill value range\Value Range

This is the range of values to be filled. For linear fills, these are the starting and ending values. For periodic functions, the difference between these two values is the amplitude of the resulting waveform. The range may be @[unsigned versus signed steps\signed or unsigned]. To fill steps with a constant, set Start and End to the same value.

@item Fill step range\Step Range

This is the range of steps to be filled. It's taken from the step selection if one exists, otherwise it's the maximum of the lengths of the selected tracks.

@item Fill function\Function

This is the type of function to fill with. The options are Linear, Sine, Triangle, Ramp Up, Ramp Down, and Square. All but the first are periodic functions.

@item Fill Frequency\Frequency

This is the frequency of the periodic waveform, in Hertz. Frequency applies to all functions except Linear. To fill with one complete cycle of the waveform, set the frequency to one. Frequency is a real number and may be fractional.

@item Fill Phase\Phase

This is the phase of the periodic waveform, in @[normalized angles\normalized degrees], ranging from zero to one. Phase applies to all functions except Linear. To start the waveform in its usual position, set the phase to one.

@item Fill Curviness\Curviness

This makes a periodic waveform curvier. If it's zero, curviness is disabled. Otherwise, the curvature becomes more extreme as curviness diverges from one. This lets you make a wider variety of shapes by distorting the underlying waveform. Curviness applies to all functions except Linear. For a typical exponential curve, select the following: Step Range = 0 to 127 (or &minus;64 to +63), Function = Ramp Up, Frequency = 1, Phase = 0, Curviness = 100. For standard waveforms, leave Curviness zero.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th>Value</th><th>Description</th></tr>
<tr><td><&nbsp;0</td><td>Not allowed.</td></tr>
<tr><td>0</td><td>Linear (disabled).</td></tr>
<tr><td>0&nbsp;<&nbsp;x&nbsp;<&nbsp;1</td><td>Starts out curving more steeply and then levels off; the smaller the value, the more extreme the curvature.</td></tr>
<tr><td>1</td><td>Linear. Use zero instead to avoid needless computations.</td></tr> 
<tr><td>>&nbsp;1</td><td>Starts out curving more gradually and then gets steeper; the larger the value, the more extreme the curvature.</td></tr>
</table>

@topic Stretch

This command either stretches or shrinks the @[track selection\selected tracks]. Unlike simply changing the @[track length], this command resizes the contents of the @[track steps] as needed to fit the new length. A dialog is displayed, prompting you to enter the desired scaling as a percentage. For example, entering 200 doubles the size of the track, and entering 50 halves it. For integer multiples of 100, the stretching is lossless, but for all other scaling factors, the process is approximate. The percentage can be fractional, for example entering 66.666 shrinks the track to two-thirds of its size.

To estimate the new steps via linear interpolation, check the Interpolate option. Otherwise step values are repeated or removed as needed, but never changed. Disabling interpolation is useful when stretching or shrinking @[modulator tracks] that contain notes, to avoid altering the tonality.

For @[note tracks], the note durations are increased or decreased as needed, and the interpolation option is ignored. The Stretch command can be useful when changing the @[track quant\quant] of a note track. For example, suppose you have a track in eighth notes, and you want to convert it to sixteenth notes, without changing how it sounds. You divide its quant in half, but this causes the track to play twice as fast. Stretching the track by 200% fixes this.

@topic Mute

This command toggles the @[track mutes\mute] state of the @[track selection\selected tracks]. Tracks that are currently muted become unmuted, and vice versa.

@topic Solo

This command solos the @[track selection\selected tracks]. The selected tracks are unmuted, and all other tracks are muted.

@topic Create Group\Group

This command groups the @[track selection\selected tracks] into a new @[parts\part]. The new part is named after its first member track, and appears in the @[Parts bar].

If any of the selected tracks already belong to a part, a warning message is displayed, giving you the option to continue or cancel. If you continue, the offending tracks are removed from their previous part before being reassigned to the new one.

@topic Create Preset\Preset

This command creates a new @[presets\preset] from the current state of the @[track mutes]. The new preset is given an automatically generated name, and appears in the @[Presets bar].

@topic Create Modulation\Modulation

This command creates one or more @[modulations] targeting the @[track selection\selected tracks]. It's particularly useful for creating a group of modulators all having the same @[modulation types\modulation type], as in @[scale modulation] for example. Instead of creating the modulators one by one in the @[modulations bar], it's easier to create them all at once using this command.

At least one track must be selected in the @[track view] for this command to be enabled, because the track selection determines which tracks will be modulated. The command displays a dialog, allowing you to select one or more source tracks and pick a modulation type. Press OK to create the modulations. For help with selecting multiple items, see @[list controls]. It's recommended to keep the modulations bar visible while using this command so that you can see its effects. This command is also accessible via the @{cmd}Insert Group@} item on the modulations bar's @[modulations context menu\context menu].

@topic Sort

This command sorts the @[track selection\selected tracks], or all tracks if none are selected. The command displays a dialog which allows you to specify up to three sort levels. Each sort level consists of a @[track properties\track property] and a direction (ascending or descending). To disable a sort level, set its property to none.

It's also possible to sort by ID. This puts the tracks in the order they were in when the document was opened. Any tracks added since then appear in the order they were added.

Sorting tracks may have unintended effects, for example @[scale modulation\scale] and @[chord modulation\chord] modulators are potentially sensitive to track order.

@topic Color

This command lets you customize the background color of tracks in the @[Track view]. It's only accessible from the @[toolbar], and only if the @[Show Track Colors] option is enabled. To assign a custom color to the @[track selection\selected tracks], left-click the paint bucket icon in the toolbar. A pop-up menu is displayed. Now select a color swatch by left-clicking it, or if the desired color isn't available, left-click "More Colors" for an extended palette. To restore the default color to the selected tracks, select "Automatic."

If the paint bucket icon is disabled, it's because either no tracks are selected, or the Show Track Colors option is false.

@endchapter

@chapter Transport

@topic Play

This command starts or stops playback.

@topic Pause

This command pauses or continues playback.

@topic Record

This command starts or stops recording. By default, only @[dubs] are recorded, but you can change this using the @[Record Input] option. You can also configure the application to start recording automatically, using the @[Always Record] option.

@topic Rewind

This command rewinds back to the @[start position].

@topic Loop

This command enables or disables looped playback. While looping is enabled, playback is restricted to the range of time defined by @[loop from] and @[loop to].

@topic Go To Position

This command prompts you to enter a numeric @[song position] and then navigates to that position. The position can be specified in measures, beats, and @[ticks], or in time.

@topic Next Convergence

This command goes to the next @[convergences\convergence]. If a @[track selection] exists, the convergence is calculated for the selected tracks only, otherwise it's calculated for all tracks. To specify a threshold of significance below which convergences are skipped, use the @[Convergence Size] submenu.

@topic Previous Convergence

This command goes to the previous @[convergences\convergence]. For more information, see @[Next Convergence].

@topic Convergence Size

This submenu lets you choose a convergence size for the @[Next Convergence] and @[Previous Convergence] commands. Convergence size is the minimum number of unique loop lengths that must reach their start point simultaneously for it to count as a @[convergences\convergence]. The size lets you filter the convergences by significance, finding only those where at least the specified number of different lengths converge, while skipping over the lesser ones. At the default size of two, the commands find every convergence. To find only three-way or higher convergences, set the convergence size to three. To find only full convergences, set the convergence size to All, but note that doing so may slow down the search if many large, @[primes\relatively prime] lengths are in use.

If the desired size isn't listed in the submenu, select Custom to display a dialog that lets you enter other sizes. The size can be set as low as one, in which case the next/previous convergence commands find every time when a loop starts, regardless of whether other loops also start at that time. To display a list of convergences, use the @[Convergences Calculator\Convergences] command.

The convergence size also affects the @[Phase bar]'s optional Convergences feature, which indicates convergences slightly before and after they occur.

@topic Record Tracks

This command records input MIDI messages and converts them to @[tracks]. Only MIDI channel messages (notes, control changes, pitch bends, and so on) are recorded; other message types are ignored. The timing of the input messages is quantized in accordance with the @[Input Quantization] option. Each unique note number or control number used during the recording results in one track. Before they're inserted, the recorded tracks are sorted into descending order by note or control number within message type. 

This command is only available if an @[Input Device] is selected. If you start recording tracks while @[play\playback] is stopped, playback is started automatically. You can also start recording tracks during playback, but in this case the recorded tracks will include a chunk of empty steps at the beginning, which corresponds to the period between when playback started and when you started recording. Depending on the @[latency] setting and @[devices] in use, the recording can be significantly delayed, though this may be correctable afterwards.

@endchapter

@chapter Tools

@topic Statistics

This command displays performance statistics. The statistics are reset every time @[play\playback] is started.

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Total Callbacks</td><td>The total number of MIDI callbacks that have occurred.</td></tr>
<tr><td>CB Underruns</td><td>The number of @[underruns\underrun] errors that have occurred.</td></tr>
<tr><td>CB Latency</td><td>The desired callback @[latency] in milliseconds and ticks.</td></tr>
<tr><td>Min CB Time</td><td>The minimum callback duration, in time and as a percentage of the latency.</td></tr>
<tr><td>Max CB Time</td><td>The maximum callback duration, in time and as a percentage of the latency.</td></tr>
<tr><td>Avg CB Time</td><td>The average callback duration, in time and as a percentage of the latency.</td></tr>
</table>

If underrun occurs, the maximum callback length will exceed the callback latency. To avoid underruns, increase the latency so that it's well above the maximum callback length.

@topic Time To Repeat

This command reports how long it takes for the @[track selection\selected tracks] to repeat. The result is displayed in beats, and in time. The result in time depends on the @[tempo], whereas the result in beats is tempo-independent.

@topic Prime Factors

This command reports the @[primes\prime factors] of the lengths of the @[track selection\selected tracks]. The lengths are computed in steps if possible, otherwise they're computed in @[ticks]; the details are explained @[Convergences calculator\here].

@topic Velocity Range

This command reports the minimum and maximum step values in the selected @[tracks] or @[steps]. The command also checks for @[clipping], which can be caused by excessive @[track velocity] or @[velocity modulation]. If a @[step selection] exists, it takes priority, and only the selected steps are included. Otherwise all steps of the @[track selection\selected tracks] are included. The step values are interpreted as unsigned integers from 0 to 127, regardless of @[track types\track type]. When applied to @[note tracks], the command reports velocities, but for other track types, the meaning depends on the context.

@topic Devices

This command displays a list of the currently available MIDI devices. To select MIDI devices, use the @[Input Device] and @[Output Device] settings in the @[Options] dialog.

@topic Options

This command displays a dialog that lets you edit Polymeter's options, which are global user preferences that apply to all documents. The options are summarized @[options summary\here]. Press OK to close and save your changes, or Cancel to close without saving. To reset all options to their default values, press the Reset All button.

@topic Import Table

Each of these commands imports data from a Comma-Separated Values (CSV) file. In all cases, a file dialog is displayed, prompting you to select the input CSV file. The imports have different targets, and expect differently formatted data, as explained below. Each import has a corresponding @[export tracks\export], and in order to better understand a format, it may be helpful to examine the results of its export.

@item Import Tracks

This command imports @[tracks\track] data from a CSV file. The first row must be a column header specifying which track properties are to be imported. Each column header item must be a valid track property name. It's not necessary to specify all the track properties, as any omitted properties will be initialized to default values. Track properties may be specified in any order, so long as the subsequent data rows use that same order. For a list of the track property names, examine the file resulting from the corresponding @[export tracks] command.

Each subsequent row corresponds to a track to be inserted, and must contain properly formatted data values for the properties specified by the column header. Values containing commas must be enclosed in double quotes.

@item Import Steps

This command imports @[steps\step] data from a CSV file, containing one row per track, with no initial header row. Each row consists of a list of integers ranging from 0 to 255, corresponding to the step values for that track. The tracks needn't all be the same length. Each track's length is inferred from the number of step values found on its row. For note tracks, step values may exceed 127, due to the most significant bit being used for @[tied notes\tying] steps together into longer notes. You can also @[export steps].

@item Import Modulations

This command imports @[modulations\modulation] data from a CSV file containing one row per modulation, with no initial header row. Each row consists of three integers, corresponding to the modulation's enumerated type, source track index, and sink track index. The @[modulation types] are zero-based. The track indices are also zero-based and must be within the range of the current tracks. You can also @[export modulations].

@topic Export Table

Each of these commands exports data to a Comma-Separated Values (CSV) file. In all cases, a file dialog is displayed, prompting you to specify the name and location of the output CSV file. The exports have different targets, and produce differently formatted data, as explained below.

@item Export Tracks

This command exports @[tracks\track] data to a CSV file. If a @[track selection] exists, only the selected tracks are exported, otherwise all tracks are exported. The first output row is a column header specifying the names of the track properties. Each subsequent row corresponds to a track, and contains the data for each of the track's properties. You can also @[import tracks], using this same file format.

@item Export Steps

This command exports @[steps\step] data to a CSV file, for the selected tracks, or for all tracks if none are selected. Each output row corresponds to a track, and contains one integer for each of the track's steps. For note tracks, step values may exceed 127, due to the most significant bit being used for @[tied notes\tying] steps together into longer notes. You can also @[import steps], using this same file format.

@item Export Modulations

This command exports @[modulations\modulation] data to a CSV file. All modulations in the current document are exported. Each output row corresponds to a modulation, and contains three integers, corresponding to the modulation's enumerated type, source track index, and sink track index. You can also @[import modulations], using this same file format.

@item Export Song

This command is similar to the @[export\MIDI file export], except that it exports the MIDI messages as text. The resulting CSV file contains the same data as the MIDI file export, but in a human-readable format. This can be useful for debugging purposes, for example text exports can be meaningfully compared using a file comparison utility. The command displays a dialog prompting you for the desired duration. If any @[dubs] exist, they're applied during the export, otherwise the unmuted tracks are looped for the specified duration.

@topic Convergences Calculator\Convergences

This calculator shows the @[convergences] between a given set of numbers. If a @[track selection] exists, the calculator uses the loop lengths of the selected tracks as its input, otherwise you can enter a set numerically in the dialog.

If the input is from selected tracks, the results are shown in either @[steps] or @[ticks], depending on the @[track quant\Quants] of the selected tracks. There are three distinct cases:

<ol>
<li>The selected tracks all have the same Quant. In this case, the results are shown in steps.
<li>The selected tracks have different Quants, but all the Quants are integer multiples of the smallest Quant. In this case, the results are shown in steps of the smallest Quant. For example, if the selected tracks have Quants of 30, 60, and 120, the results are shown in steps of 30 ticks.
<li>Neither of the preceding cases apply. In this case, the results are shown in ticks. This can make the numbers much bigger, and may cause the calculation to take noticeably longer. 
</ol>

If you compare the results to the @[Time to Repeat] function, bear in mind that Time to Repeat is shown in beats, which must be converted to either steps or ticks depending on the cases explained above.

If you prefer to enter a set numerically, make sure no tracks are selected when you show the calculator dialog. The set must consist of at least two comma-separated positive integers. Note that zero is not considered a positive integer. The set can be in any order, and duplicate values are ignored. A valid input set could look like this:

2,3,5,7

Simply type the set in the input edit control and press @{key}Enter@} or @{key}Tab@} to calculate the convergences. To export the results, use the Windows clipboard: copy the output edit control's text, using @{key}Ctrl+A@} and @{key}Ctrl+C@} or the context menu, and paste it into the desired application.

The calculator only shows the <em>first</em> convergence for each unique subset of the input numbers. The subsequent convergences can be determined via multiplication. To step through convergences one by one, use the @[Next Convergence] and @[Previous Convergence] commands.

@topic MIDI Learn

This command enables or disables MIDI learn mode. Learn mode makes it easier to set up @[mappings] so that properties can be remotely controlled, typically via a MIDI control surface. Learn mode is only effective if the @[Mapping bar] is visible and at least one mapping is selected. While learn mode is enabled, any mappings selected in the Mapping bar are highlighted in green.

In learn mode, if a MIDI channel message is received from the input MIDI device, any selected mappings automatically snap their input properties to match the received message. This is often easier than setting the input properties manually, and makes it unnecessary to know what MIDI messages the control surface sends for each of its controls.

Be sure to disable learn mode when you're done learning input MIDI messages, otherwise you may unintentionally change your mappings the next time you touch the control surface. See also @[learning mappings].

@endchapter

@chapter Window

@topic New Window

Use this command to open a new window with the same contents as the active window. You can open multiple document windows to display different parts or views of a document at the same time. If you change the contents in one window, all other windows containing the same document reflect those changes. When you open a new window, it becomes the active window and is displayed on top of all other open windows.

@item Splits

You can split the view area horizontally or vertically into two or more tab groups. This lets you show multiple documents at once, which can be useful for comparing them. Splitting also lets you work with multiple views of a single document at the same time. For example, instead of switching back and forth between @[track view] and @[song view], you may prefer to show your document in both views at once. To create another view of the active document, use the @[New Window] command.

For splitting to work, you must have at least two tabs in the same tab group. The tabs can correspond to different documents, or to different views of the same document. Activate whichever tab you wish to move, and then use either the @[New Horizontal Tab Group] or @[New Vertical Tab Group] command to create an alternate tab group. The active view is automatically moved into the newly created tab group.

You can also left-click a tab, drag it, and drop it within the view area of a tab group. If you drop it within the tab group it already belongs to, a new split is created, and the active view is moved to the new tab group. If you drop it within a different tab group, the active view is moved to that tab group. Removing the last tab from a tab group also removes the corresponding split if any.

You can create as many tab groups as you want provided they all have the same orientation, in other words you can't mix horizontal and vertical tab groups. To change the proportions of two tab groups, left-click and drag the @[panes\splitter bar] that separates them.

If you create the initial split by dragging a tab, the drop location determines whether the split is vertical or horizontal. The split will be vertical unless you drop near the bottom of the view area, in which case the split will be horizontal; in the latter case, the bottom half of the view area is temporarily outlined to indicate that a horizontal split will occur.

@item Multiple monitors

Showing multiple views of the same document is more useful in a multiple monitor setup where each view has enough space to be fully utilized. The optimal setup is two identical monitors placed side by side and set to the same resolution, with the Windows desktop extended onto both monitors. In that case, you can resize the application's main window so that it fills both monitors. This is ideal for creating vertical @[splits].

Multiple monitors of different sizes and resolutions can also be useful, for example you could place the application's main window on the larger monitor, and use the smaller monitor to show one or more @[docking windows].

@topic Full Screen

Use this command to toggle full screen mode. In full screen mode, the current view is enlarged to fill the entire monitor, and all other application windows are hidden, including the caption bar and all @[docking windows]. The @[shortcuts\shortcut keys] still work however. 

To enter full screen mode, use @{cmd}Window/Full Screen@} or press @{key}F11@}. To exit full screen mode, press @{key}F11@} or the @{key}Escape@} key. If your Windows desktop spans multiple monitors, drag the application onto the desired monitor before going full screen.

@topic Reset Layout

This command restores every @[docking windows\docking window] to its default size, position, and visibility. Most application settings are also restored to default values, except for the @[options summary\options], which can be reset separately via the Reset All button in the @[options\Options dialog]. All @[Customize\customizations] are reset, restoring toolbars, menus, and keyboard shortcuts to their original state. This command can't be undone and causes the application to restart.

@topic New Horizontal Tab Group

This command creates a new horizontal tab group, and moves the active view into the newly created group. For details, see @[splits].

@topic New Vertical Tab Group

This command creates a new vertical tab group, and moves the active view into the newly created group. For details, see @[splits].

@topic Windows

This command displays a dialog that lists all views of the currently open documents. The dialog also lets you activate, save, or close views. The list box supports multiple selection.

@endchapter

@chapter Help

@topic Help Topics

Use this command to display the help's table of contents and @[introduction\default topic]. The application also supports @[getting help\context-sensitive help].

@topic Polymeter on the Web

Use this command to launch your web browser to Polymeter's home page. 

@topic Check for Updates

Use this command to determine if a more recent version of Polymeter is available. If a newer version is available, you'll be asked whether you want to download and install it. For more information, see @[Automatically check for updates]. You must be logged on as Administrator to install an update.

@topic About

Use this command to display Polymeter's copyleft notice, version number, and license.

@endchapter

@endchapter

@chapter Loose Ends

@topic Audio versus events

Digital music is typically created and edited within two distinct domains: audio space, and event space. Audio space represents music as samples (the musical equivalent of pixels), whereas event space represents music as notes and control changes (the musical equivalent of vectors). Many musically useful operations that are difficult or impossible in audio space are trivial in event space. For example, muting a track without cutting off notes that are already playing is easy in event space, but impossible in audio space. The Polymeter application operates entirely in event space, and generates no audio by itself. Polymeter outputs a stream of MIDI messages which must be routed to an @[output device] capable of converting MIDI to audio.

@topic Recording MIDI input

The MIDI input recording feature is primarily intended for the case where a MIDI controller device is being routed through Polymeter to the output device. For example you might be using a MIDI controller to tweak the settings of a software synth. If you record a live performance in Polymeter, it's not enough to record only your @[dubs]. In order to entirely capture the performance, the controller moves must also be recorded.

Recording of MIDI input is optional, and it's off by default, for backwards compatibility. To enable it, open the Options dialog and set the @[Record Input] option to "Dubs + MIDI." Now when you do the @[Record] command (Transport/Record), in addition to your dubs, any MIDI events received from the input device will also be recorded. Note that playback of the recorded events occurs ONLY in Song view. There's currently no way to directly view or edit the recorded events, though this may change in future versions.

The timing resolution is pretty good, but there can be problems with recording latency. If the recorded events playback out of sync with the sequencer tracks, you can offset their timing via a Master property, @[Record Offset]. This offset is in @[ticks]. To make the recorded events earlier relative to the sequencer tracks (the usual case), enter a negative value.

It's unusual for a record offset to be specified in ticks as opposed to milliseconds, but it has one big advantage: once the record offset is correctly set for a given recording, you can subsequently change the song's tempo and the record offset remains correct.

There's no exact method for determining the amount of recording latency. The most direct approach is to record yourself playing along with a click track and then adjust the record offset by ear until it sounds in sync. You can also inspect the timing differences in the MIDI output view. On a typical system, the record latency is about 40ms, but your results will depend on your hardware configuration. Once you know your recording latency, you can compute the appropriate record offset for a given song via the following function:

offset = (tempo / 60) &times; timebase &times; (latency / &minus;1000)

This assumes the latency is specified in milliseconds. For example if latency is 40ms, tempo is 90 BPM, and timebase is 120, the function is:

offset = (90 / 60) &times; 120 &times; (40 / &minus;1000)
offset = 1.5 &times; 120 &times; &minus;0.040
offset = &minus;7.2

So in this case the record offset should be &minus;7 ticks. 

@topic Maximum track length

A track can have up to millions of steps, depending on its @[track quant\Quant]. Track length is limited by several factors. The hard limit is that the product of the track's @[track length\Length] (in steps) and Quant (in ticks) can't exceed 2 billion. Attempting to exceed this limit causes the error message "Track too long." But well before reaching this upper limit, you'll experience problems with the track's steps displaying incorrectly or not at all. This occurs because the width of the Steps view is similarly limited, to around 100 million pixels.

For example, a Length of 1 million and a Quant of 30 gives a product of 30 million ticks, which seems doable. But how wide are the steps in pixels? At the default zoom, they're 20 pixels wide, necessitating a view width of 20 million pixels, which is already quite large. Zooming in a few times makes the track too wide, causing incorrect display. This may be addressed in a future release, but meanwhile it's recommended to keep tracks under a million steps, or even less if unusually large Quant values are used. 

@topic Normalized angles

Phase-related properties may be expressed as <em>normalized angles</em>. A normalized angle maps the full range of angles (360 degrees) to the range zero to one. The following table shows the relationship between degrees and normalized angles: 

<p><table cellSpacing=0 cellPadding=2 border=1>
<tr><th>Degrees</th><th>Normalized</th></tr>
<tr><td>0</td><td>0</td></tr>
<tr><td>90</td><td>0.25</td></tr>
<tr><td>180</td><td>0.5</td></tr>
<tr><td>270</td><td>0.75</td></tr>
<tr><td>360</td><td>1</td></tr>
</table>

<p>Values outside the range [0..1] wrap around, e.g. 1.25 wraps to 90&deg; and &minus;0.25 wraps to 270&deg;.

@topic Period

An oscillation can be described in two ways. One can specify how many cycles it makes per second, also known as its <em>frequency</em>, or one can specify how long each of its cycles takes in seconds, also known as its <em>period</em>. Frequency and period are inverses of each other: frequency equals one divided by period, just as period equals one divided by frequency. For example, a frequency of two cycles per second is equivalent to a period of half a second.

In this application, a @[tracks\track] is analogous to an oscillator, in that it cycles sequentially through its @[steps]. A track's period, meaning how long it takes to complete one cycle, is the product of its @[track length\Length] in steps, and the duration of each step, also known as the track's @[track quant\Quant]. Because step duration is measured in @[ticks], a track's period is also measured in ticks. For example, a track that's five steps long and has a quant of 30 has a period of 5 &times; 30 = 150 ticks.

@topic Primes

A prime number is an integer that has no factors other than itself and one, in other words an integer that's evenly divisible only by itself and one. The first ten prime numbers are 1, 2, 3, 5, 7, 11, 13, 17, 19, and 23, after which the series continues infinitely.

Each prime has an extended "family" of integer multiples, for example the 5 family contains 5, 10, 15, 20, 25, and so on. An integer can be the product of two or more primes, e.g. 35 is a multiple of both 7 and 5. In such cases, by convention, the largest factor wins, so 35 belongs to the 7 family.

Two integers are <em>relatively prime</em> if they have no common prime factors. Consider 6 and 35: neither is prime, but they have no common factors other than one (6 = 2 &times 3, 35 = 5 &times 7), thus they are relatively prime.

Juxtaposing prime or relatively prime loop lengths results in a "slipping" effect that's characteristic of @[polymeter]. The loops shift phase relative to each other, hence the effect is known as <em>phasing</em>. Shown below is the juxtaposition of two loops, having lengths of 3 and 5 respectively. Notice that each time the 3 loop restarts, the 5 loop is in a different position, and vice versa; this behavior is typical of phasing.

<p style="font-family:monospace"><u>1</u>23<u>1</u>23<u>1</u>23<u>1</u>23<u>1</u>23<u>1</u>
<br><u>1</u>2345<u>1</u>2345<u>1</u>2345<u>1</u></p>

After 15 steps, the two loops restart at the same time, and their combined cycle begins again. The point at which the loops are back in phase is called their @[convergences\convergence]. If both lengths are prime, as in this case, the distance to the convergence is easy to calculate: it's simply the product of the lengths (3 &times; 5 = 15). For harder cases, use the @[Convergences Calculator].

@topic Modular arithmetic

In modular arithmetic, numbers "wrap around" when they reach a certain value, called the <em>modulus</em>. Modular arithmetic is common in music, particularly modulo 12, due to the chromatic scale having twelve notes. This application uses modular arithmetic for many purposes, for example @[index modulation].

A familiar example of modular arithmetic is a digital clock: at midnight, the clock shows 00:00, and an hour later it changes from 00:59 to 01:00, because the seconds wrap around back to zero. In other words, seconds are modulo 60. For integers, the operation is equivalent to the remainder of division by the modulo, except that negative results are handled specially. The figure below shows modulo 3 for a range of input values.

<p><table cellSpacing=0 cellPadding=2 border=1>
<tr><th>x</th><th>x mod 3</th></tr>
<tr align=right><td>5</td><td>2</td></tr>
<tr align=right><td>4</td><td>1</td></tr>
<tr align=right><td>3</td><td>0</td></tr>
<tr align=right><td>2</td><td>2</td></tr>
<tr align=right><td>1</td><td>1</td></tr>
<tr align=right><td>0</td><td>0</td></tr>
<tr align=right><td>&minus;1</td><td>2</td></tr>
<tr align=right><td>&minus;2</td><td>1</td></tr>
<tr align=right><td>&minus;3</td><td>0</td></tr>
<tr align=right><td>&minus;4</td><td>2</td></tr>
<tr align=right><td>&minus;5</td><td>1</td></tr>
<tr align=right><td>&minus;6</td><td>0</td></tr>
</table>

@topic Clipping

Clipping is when a value that would otherwise exceed its permissible range has to be truncated. Clipping can occur at either or both extremes of the range. @[Steps], note velocities and MIDI control values are all seven-bit numbers which allow 128 unique values, ranging from 0 to 127 for @[unsigned versus signed steps\unsigned] values, or &minus;64 to +63 for signed values. Applying an excessive offset to step values via @[track velocity] or @[velocity modulation] can cause the values to exceed their range, in which case they must be truncated or <em>clipped</em>.

For example, suppose a track's step values range from 0 to 127. Offsetting the track's velocity by 100 causes the steps to range from 100 to 227, but since values exceeding 127 are clipped to 127, the result has a much smaller range, from 100 to 127. Furthermore, any details that were present in the clipped range (128 to 227) are lost. Squashing of range and loss of detail are both characteristic of clipping.

Clipping is potentially an issue for all @[track types], but it's a particular concern for @[note tracks] because the range of note velocities determines the dynamic range of the resulting music. Unintentional clipping of note velocities can reduce the subtlety of your composition. One way to detect it is by using the Color Velocities option in the @[Piano bar]. If you see a lot of bright red or dark blue notes, you're probably clipping. Another method is to use the @[Velocity Range] command on your note tracks: it reports the range of velocities in use, taking all offsets into account, and also reports clipping.

@endchapter

@chapter Reference

@topic Options Summary

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><th colspan=2>MIDI</th></tr>
<tr><td>@[Input Device]</td><td>Selected MIDI input device</td></tr>
<tr><td>@[Output Device]</td><td>Selected MIDI output device</td></tr>
<tr><td>@[Latency]</td><td>Desired MIDI latency, in milliseconds</td></tr>
<tr><td>@[Buffer Size]</td><td>Size of MIDI event buffer, in bytes</td></tr>
<tr><td>@[Thru]</td><td>Pass MIDI input through to output device</td></tr>
<tr><td>@[Default Velocity]</td><td>Default note velocity or controller value for new steps</td></tr>
<tr><td>@[Input Quantization]</td><td>Quantization for converting MIDI input to steps</td></tr>
<tr><td>@[Record Input]</td><td>Type of data captured by the Record command</td></tr>
<tr><td>@[Send MIDI Clock]</td><td>Transmit MIDI synchronization messages to slave device</td></tr>
<tr><th colspan=2>View</th></tr>
<tr><td>@[Update Frequency]</td><td>Frequency at which view is updated, in Hertz</td></tr>
<tr><td>@[Show Current Position]</td><td>Indicate current position within each track</td></tr>
<tr><td>@[Show Note Names]</td><td>Display notes as names instead of numbers</td></tr>
<tr><td>@[Show General MIDI Names]</td><td>Display General MIDI patch and drum names instead of numbers</td></tr>
<tr><td>@[Show Track Colors]</td><td>Allow tracks to be assigned custom colors</td></tr>
<tr><td>@[Unique Track Names]</td><td>When renaming multiple tracks, append number to keep names unique</td></tr>
<tr><td>@[Zoom Step]</td><td>Zoom step size, as a percentage</td></tr>
<tr><td>@[Live View Font Height]</td><td>Height of live view font, in pixels</td></tr>
<tr><th colspan=2>General</th></tr>
<tr><td>@[Show Property Descriptions]</td><td>If true, show descriptions area in properties bar</td></tr>
<tr><td>@[Automatically Check for Updates]</td><td>Automatically check for newer version of app during startup</td></tr>
<tr><td>@[Always Record]</td><td>Always record dubs during playback and automatically save the recordings</td></tr>
</table>

@topic Shortcuts

<p><table border=1 cellpadding=2 cellspacing=0>
<tr><td>Alt+Backspace</td><td>@[Undo]</td><td>Undo the last action</td></tr>
<tr><td>Ctrl+Space</td><td>@[Play]</td><td>Start or stop playback</td></tr>
<tr><td>Ctrl+Shift+Space</td><td>@[Pause]</td><td>Pause or continue playback</td></tr>
<tr><td>Alt+Left</td><td>@[Previous Convergence]</td><td>Go to previous convergence</td></tr>
<tr><td>Alt+Right</td><td>@[Next Convergence]</td><td>Go to next convergence</td></tr>
<tr><td>Insert</td><td>@[Insert]</td><td>Insert a new item</td></tr>
<tr><td>Ctrl+Insert</td><td>@[Copy]</td><td>Copy the selection and put it on the Clipboard</td></tr>
<tr><td>Shift+Insert</td><td>@[Paste]</td><td>Insert Clipboard contents</td></tr>
<tr><td>Delete</td><td>@[Delete]</td><td>Delete the selection</td></tr>
<tr><td>Shift+Delete</td><td>@[Cut]</td><td>Cut the selection and put it on the Clipboard</td></tr>
<tr><td>Ctrl+0</td><td>@[Zoom Reset]</td><td>Reset zoom</td></tr>
<tr><td>Ctrl+1</td><td>@[Rotate Left]</td><td>Rotate the selected tracks or steps left</td></tr>
<tr><td>Ctrl+Shift+1</td><td>@[Shift Left]</td><td>Shift the selected tracks or steps left</td></tr>
<tr><td>Ctrl+2</td><td>@[Rotate Right]</td><td>Rotate the selected tracks or steps right</td></tr>
<tr><td>Ctrl+Shift+2</td><td>@[Shift Right]</td><td>Shift the selected tracks or steps right</td></tr>
<tr><td>Ctrl+3</td><td>@[Reverse]</td><td>Reverse the selected tracks or steps</td></tr>
<tr><td>Ctrl+A</td><td>@[Select All]</td><td>Select the entire document</td></tr>
<tr><td>Ctrl+Alt+A</td><td>@[Show Parts]</td><td>Show or hide the parts bar</td></tr>
<tr><td>Ctrl+C</td><td>@[Copy]</td><td>Copy the selection and put it on the Clipboard</td></tr>
<tr><td>Ctrl+Alt+C</td><td>@[Show Channels]</td><td>Show or hide the channels bar</td></tr>
<tr><td>Ctrl+D</td><td>@[Deselect]</td><td>Unselect the entire document</td></tr>
<tr><td>Ctrl+E</td><td>@[Export]</td><td>Export to a MIDI file</td></tr>
<tr><td>Ctrl+Shift+E</td><td>@[Stretch]</td><td>Stretch or shrink the selected tracks</td></tr>
<tr><td>Ctrl+Alt+E</td><td>@[Show Presets]</td><td>Show or hide the presets bar</td></tr>
<tr><td>Ctrl+F</td><td>@[Find]</td><td>Find the specified text</td></tr>
<tr><td>Ctrl+Shift+F</td><td>@[Fill]</td><td>Fill selected tracks or steps with a range of values</td></tr>
<tr><td>Ctrl+G</td><td>@[Create Group]</td><td>Group the selected tracks into a part</td></tr>
<tr><td>Ctrl+H</td><td>@[Replace]</td><td>Replace specific text with different text</td></tr>
<tr><td>Ctrl+I</td><td>@[Import]</td><td>Import tracks from a MIDI file</td></tr>
<tr><td>Ctrl+Shift+I</td><td>@[Invert]</td><td>Invert the selected tracks or steps</td></tr>
<tr><td>Ctrl+J</td><td>@[Rotate Steps]</td><td>Rotate the selection left or right a given number of steps</td></tr>
<tr><td>Ctrl+Shift+J</td><td>@[Shift Steps]</td><td>Shift the selection left or right a given number of steps</td></tr>
<tr><td>Ctrl+L</td><td>@[Length]</td><td>Set the length of one or more tracks</td></tr>
<tr><td>Ctrl+Shift+L</td><td>@[MIDI Learn]</td><td>Learn mappings from MIDI input</td></tr>
<tr><td>Ctrl+Alt+L</td><td>@[Loop]</td><td>Loop playback</td></tr>
<tr><td>Ctrl+M</td><td>@[Mute]</td><td>Mute or unmute the selected tracks</td></tr>
<tr><td>Ctrl+Shift+M</td><td>@[Create Modulation]</td><td>Create a modulation that targets the selected tracks</td></tr>
<tr><td>Ctrl+Alt+M</td><td>@[Show Modulations]</td><td>Show or hide the modulations bar</td></tr>
<tr><td>Ctrl+N</td><td>@[New]</td><td>Create a new document</td></tr>
<tr><td>Ctrl+O</td><td>@[Open]</td><td>Open an existing document</td></tr>
<tr><td>Ctrl+Shift+O</td><td>@[Options]</td><td>Edit the options</td></tr>
<tr><td>Ctrl+Alt+O</td><td>@[Offset Tracks]</td><td>Offset the selected tracks by a given number of ticks</td></tr>
<tr><td>Ctrl+Shift+P</td><td>@[Create Preset]</td><td>Create a new preset from the track mutes</td></tr>
<tr><td>Ctrl+Alt+P</td><td>@[Show Properties]</td><td>Show or hide the properties bar</td></tr>
<tr><td>Ctrl+R</td><td>@[Record]</td><td>Start or stop recording</td></tr>
<tr><td>Ctrl+Shift+R</td><td>@[Record Tracks]</td><td>Start or stop recording MIDI input to tracks</td></tr>
<tr><td>Ctrl+S</td><td>@[Save]</td><td>Save the active document</td></tr>
<tr><td>Ctrl+Shift+S</td><td>@[Save As]</td><td>Save the active document with a new name</td></tr>
<tr><td>Ctrl+Alt+S</td><td>@[Sort]</td><td>Sort the selected tracks</td></tr>
<tr><td>Ctrl+T</td><td>@[Tie Notes]</td><td>Toggle tie notes mode; if on, new notes are tied</td></tr>
<tr><td>Ctrl+Shift+T</td><td>@[Transpose]</td><td>Transpose the selected tracks</td></tr>
<tr><td>Ctrl+V</td><td>@[Paste]</td><td>Insert Clipboard contents</td></tr>
<tr><td>Ctrl+Shift+V</td><td>@[Velocity]</td><td>Transform the velocities of the selected tracks or steps</td></tr>
<tr><td>Ctrl+W</td><td>@[Rewind]</td><td>Rewind to start of song</td></tr>
<tr><td>Ctrl+X</td><td>@[Cut]</td><td>Cut the selection and put it on the Clipboard</td></tr>
<tr><td>Ctrl+Y</td><td>@[Redo]</td><td>Redo the previously undone action</td></tr>
<tr><td>Ctrl+Z</td><td>@[Undo]</td><td>Undo the last action</td></tr>
<tr><td>F1</td><td>@[Help Topics]</td><td>List help topics</td></tr>
<tr><td>F2</td><td>@[Rename]</td><td>Rename the selected item</td></tr>
<tr><td>Ctrl+F4</td><td>@[Close]</td><td>Close the active MDI child window</td></tr>
<tr><td>Alt+F4</td><td>@[Exit]</td><td>Exit the application</td></tr>
<tr><td>F6</td><td>Next Pane</td><td>Switch to the next window pane</td></tr>
<tr><td>Shift+F6</td><td>Previous Pane</td><td>Switch back to the previous window pane</td></tr>
<tr><td>Ctrl+F6</td><td>Next Document</td><td>Activate the next MDI child window</td></tr>
<tr><td>Ctrl+Shift+F6</td><td>Previous Document</td><td>Activate the previous MDI child window</td></tr>
<tr><td>F7</td><td>@[Show Velocities]</td><td>Show or hide the track view's velocities pane</td></tr>
<tr><td>F8</td><td>@[Track View]</td><td>Show the track view</td></tr>
<tr><td>F9</td><td>@[Song View]</td><td>Show the song view</td></tr>
<tr><td>Ctrl+F9</td><td>@[Live View]</td><td>Show the live view</td></tr>
<tr><td>F11</td><td>@[Full Screen]</td><td>Enter or exit full screen mode</td></tr>
<tr><td>Ctrl+=</td><td>@[Zoom In]</td><td>Zoom in</td></tr>
<tr><td>Ctrl+-</td><td>@[Zoom Out]</td><td>Zoom out</td></tr>
<tr><td>Ctrl+/</td><td>@[Go To Position]</td><td>Go to specified position within song</td></tr>
<tr><td>Ctrl+\</td><td>@[Solo]</td><td>Solo the selected tracks</td></tr>
<tr><td>Ctrl+Tab</td><td>Next Document</td><td>Activate the next MDI child window</td></tr>
<tr><td>Ctrl+Shift+Tab</td><td>Previous Document</td><td>Activate the previous MDI child window</td></tr>
</table>

@endchapter

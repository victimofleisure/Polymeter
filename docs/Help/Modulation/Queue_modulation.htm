<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Queue modulation</title>
<meta name="author" content="Chris Korda">
<link rel=stylesheet href="../content.css" type="text/css">
</head>

<body>

<!--  content goes HERE  -->

<h3>Queue modulation</h3>

<p>Queue <a href="../Concepts/Modulations.htm">modulation</a> assigns a sequence of pitches to successive notes in order, regardless of note timing. Only <a href="../Tracks/Note_tracks.htm">note tracks</a> support queue modulation. Unlike other modulation types, a queue modulator doesn't continuously cycle through its steps during playback. A queue modulator only advances when its target track plays a note. Until the target track plays its next note, the queue modulator remains frozen on its current <a href="../Concepts/Steps.htm">step</a> for as long as it takes.

<p>A queue modulator is analogous to a line of customers waiting to pay. The customers stay in order, and the line only moves when the clerk signals for the next customer. The customers are the pitches and the clerk is the note track. But the clerk returns each customer to the back of the line, meaning the pitch sequence loops.

<p>A queue modulator's <a href="../Views/Track_View/Track_Grid.htm#Track_Quant">quant</a> is irrelevant because the modulator's stepping isn't driven by time. Any quant will do. The <a href="../Views/Track_View/Track_Steps.htm">Track Steps</a> view and the <a href="../Docking_Windows/Step_Values_bar.htm">Step Values bar</a> correctly report a queue modulator's current position, but other views may not.

<p>Queue modulation decouples pitch from rhythm. This allows a melody to be constructed by applying a sequence of pitches to an unrelated or unquantized rhythm. Even if the rhythm is erratic due to rests, triplets, or syncopation, pitches won't be skipped.

<p>If the target note track uses <a href="../Modulation/Scale_modulation.htm">scale</a> or <a href="../Modulation/Chord_modulation.htm">chord modulation</a>, each queue modulator step is a zero-based signed index that selects a tone from the current scale or chord. If <a href="../Modulation/Index_modulation.htm">index modulation</a> is also used, the queue and index modulators are summed to produce the final index value. In any case the index value is wrapped as needed to stay within the scale or chord.

<p>If no scale is defined, each queue modulator step is a zero-based signed offset added to the <a href="../Views/Track_View/Track_Grid.htm#Track_Note">track's note</a>. If <a href="../Modulation/Note_modulation.htm">note modulation</a> is also used, the queue and note modulators are summed to produce the final note value.

<p>A note track can have only one active queue modulator. Multiple queue modulators can target a track without conflict provided only one of them is unmuted at a time. If a note track has multiple unmuted queue modulators, only the last one is used and the others have no effect.

<p>A queue modulator can target multiple note tracks at once, but this should be considered carefully. If multiple targets are unmuted, they compete for the modulator's pitches, and this potentially alters the sequence, which may or may not be desirable. If only one of the targets is unmuted at a time, there's no issue and the pitch sequence is preserved.

<p>To repeat a fixed melody, the queue modulator should have one step for every note in the target track. Otherwise, the melody may vary over time due to phasing. In the fixed melody case, a queue modulator can lose synchronization with its target note track. This can happen if the note track is muted during the middle of its cycle, for example. To enforce synchronization, a queue modulator can be periodically reset to its start using <a href="../Tracks/Internal_tracks.htm#Internal_controllers">internal controller</a> 102 (Queue Mod Reset).

<p>Queue modulators can be targeted by <a href="../Modulation/Mute_modulation.htm">mute modulation</a> and <a href="../Modulation/Position_modulation.htm">position modulation</a>, but they don't support <a href="../Modulation/Offset_modulation.htm">offset modulation</a>.

<p>Position modulation causes a queue modulator to skip forward or backward in its sequence by the specified number of steps, but the effect is temporary and non-destructive. The target track may receive a different queue modulator step than it otherwise would have, but the queue modulator's internal position is unaffected.



<!--  content stops HERE  -->
			
</body>
</html>